<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Arcpy</title>
      <link href="/2020/03/02/arcpy/"/>
      <url>/2020/03/02/arcpy/</url>
      
        <content type="html"><![CDATA[<h3 id="裁切"><a href="#裁切" class="headerlink" title="裁切"></a>裁切</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> arcpyarcpy<span class="token punctuation">.</span>gp<span class="token punctuation">.</span>overwriteOutput<span class="token operator">=</span><span class="token number">1</span> <span class="token comment" spellcheck="true">#设置覆盖</span>input_f <span class="token operator">=</span> <span class="token string">'B:/Temp2/data/road.shp'</span>clip_f <span class="token operator">=</span> <span class="token string">'B:/Temp2/data/jjj.shp'</span>output_f <span class="token operator">=</span> <span class="token string">'B:/Temp2/data/clip.shp'</span>arcpy<span class="token punctuation">.</span>Clip_analysis<span class="token punctuation">(</span>input_f<span class="token punctuation">,</span> clip_f<span class="token punctuation">,</span> output_f<span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token string">'done'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="裁剪"><a href="#裁剪" class="headerlink" title="裁剪"></a>裁剪</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> arcpyarcpy<span class="token punctuation">.</span>gp<span class="token punctuation">.</span>overwriteOutput <span class="token operator">=</span> <span class="token number">1</span>arcpy<span class="token punctuation">.</span>env<span class="token punctuation">.</span>workspace <span class="token operator">=</span> <span class="token string">"B:\\Temp2\\datas"</span>inputs_f <span class="token operator">=</span> arcpy<span class="token punctuation">.</span>ListFiles<span class="token punctuation">(</span><span class="token string">"*.shp"</span><span class="token punctuation">)</span><span class="token keyword">print</span> inputs_fclip_f <span class="token operator">=</span> <span class="token string">'B:Temp2/data/j.shp'</span><span class="token keyword">for</span> i <span class="token keyword">in</span> inputs_f<span class="token punctuation">:</span>    name <span class="token operator">=</span> i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span>    output_f <span class="token operator">=</span> <span class="token string">'B:Temp2/data/'</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">'_clip'</span><span class="token operator">+</span><span class="token string">'.shp'</span>    arcpy<span class="token punctuation">.</span>Clip_analysis<span class="token punctuation">(</span>inputs_f<span class="token punctuation">,</span> clip_f<span class="token punctuation">,</span> output_f<span class="token punctuation">,</span> <span class="token string">"#"</span><span class="token punctuation">)</span>  # 这一句是有问题的不能出输    <span class="token keyword">print</span> output_f<span class="token keyword">print</span> <span class="token string">'done'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> -ArcGIS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> ArcGIS </tag>
            
            <tag> Arcpy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Plot</title>
      <link href="/2020/02/25/plot/"/>
      <url>/2020/02/25/plot/</url>
      
        <content type="html"><![CDATA[<h2 id="Plot疫情示例"><a href="#Plot疫情示例" class="headerlink" title="Plot疫情示例"></a>Plot疫情示例</h2><pre class="line-numbers language-r"><code class="language-r">rm<span class="token punctuation">(</span>list <span class="token operator">=</span> ls<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>getwd<span class="token punctuation">(</span><span class="token punctuation">)</span>setwd<span class="token punctuation">(</span><span class="token string">"B:/Temp1"</span><span class="token punctuation">)</span>library<span class="token punctuation">(</span>readxl<span class="token punctuation">)</span>data<span class="token operator">=</span>read_xlsx<span class="token punctuation">(</span><span class="token string">"全国疫情整理-李世昱.xlsx"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#读取数据</span><span class="token comment" spellcheck="true">#自定义颜色和字体--------------------------------------</span><span class="token comment" spellcheck="true">#运行rainbow(n)可以获得n种彩虹色</span>rainbowcolor<span class="token operator">=</span>rainbow<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#自定义颜色生成彩虹七色</span>windowsFonts<span class="token punctuation">(</span>zhuanshu<span class="token operator">=</span>windowsFont<span class="token punctuation">(</span><span class="token string">"迷你繁篆书"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#更换运行环境，需要更改此字体，或下载此字体！</span><span class="token comment" spellcheck="true">#读取数据----------------------------------------------</span>time<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>data<span class="token operator">$</span>报道时间<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#读取时间数据，x轴</span>quezhen<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>data<span class="token operator">$</span>新增确诊<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#读取确诊人数数据，y轴数据</span>chuyuan<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>data<span class="token operator">$</span>新增出院<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#读取出院人数数据，y轴数据</span>siwang<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>data<span class="token operator">$</span>新增死亡<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#读取死亡人数数据，y轴数据</span><span class="token comment" spellcheck="true">#设置画布边距------------------------------------------</span>opar <span class="token operator">&lt;-</span> par<span class="token punctuation">(</span>no.readonly <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#开启自定义参数</span>par<span class="token punctuation">(</span>bty<span class="token operator">=</span><span class="token string">"u"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#bty: 控制坐标系风格 有l、7、c、u风格</span>par<span class="token punctuation">(</span><span class="token string">"mar"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#查看默认画布边距</span>par<span class="token punctuation">(</span>mar<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">5.4</span><span class="token punctuation">,</span><span class="token number">4.4</span><span class="token punctuation">,</span><span class="token number">4.4</span><span class="token punctuation">,</span><span class="token number">3.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#重新自定义边距</span><span class="token comment" spellcheck="true">#输出tiff图---------------------------------------------</span><span class="token comment" spellcheck="true">#LZW是一种无损压缩格式，不会丢失任何数据，但会减少文件大小</span>tiff<span class="token punctuation">(</span><span class="token string">"全国疫情变化.tif"</span><span class="token punctuation">,</span>height <span class="token operator">=</span> <span class="token number">2600</span><span class="token punctuation">,</span>width <span class="token operator">=</span> <span class="token number">2850</span><span class="token punctuation">,</span>res <span class="token operator">=</span> <span class="token number">450</span><span class="token punctuation">,</span>unit<span class="token operator">=</span><span class="token string">"px"</span><span class="token punctuation">,</span>compression <span class="token operator">=</span> <span class="token string">"lzw"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#Plot函数画图-------------------------------------------</span>plot<span class="token punctuation">(</span>time<span class="token punctuation">,</span>     xaxt<span class="token operator">=</span><span class="token string">"n"</span><span class="token punctuation">,</span>      type <span class="token operator">=</span> <span class="token string">"o"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#点线的样式</span>     pch<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#点的样式,取值可以很大很大，会出现让人意想不到的情况，是一个神奇的参数。</span>     bg<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">#节点背景色</span>     cex<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#折线节点点的大小</span>     lty<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#线的样式</span>     lwd<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#折线的粗细</span>     main <span class="token operator">=</span><span class="token string">"1月11日—2月24日全国疫情变化"</span><span class="token punctuation">,</span>     sub<span class="token operator">=</span><span class="token string">"Powered By李世?9?5  于2020/2/25晚"</span><span class="token punctuation">,</span>     xlab <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#x轴标题</span>     ylab <span class="token operator">=</span> <span class="token string">'人数'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#y轴标题</span>     family<span class="token operator">=</span><span class="token string">'zhuanshu'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#字体</span>     cex.main<span class="token operator">=</span><span class="token number">2.4</span><span class="token punctuation">,</span>cex.sub<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">,</span>cex.lab<span class="token operator">=</span><span class="token number">1.4</span><span class="token punctuation">,</span>cex.axis<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">,</span>     ylim<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>quezhen<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#设置y轴取值范围</span><span class="token comment" spellcheck="true">#补充</span>     <span class="token comment" spellcheck="true">#ann=TRUE,#禁用标题，使用了title()函数来自定义标题</span>     <span class="token comment" spellcheck="true">#frame.plot=FALSE, #隐藏框架线</span>     <span class="token comment" spellcheck="true">#xaxt='n', #隐藏X轴，会留下框架</span>     <span class="token comment" spellcheck="true">#axes=FALSE, #隐藏所有坐标轴及框架线</span><span class="token comment" spellcheck="true">#生成网格-----------------------------------------------------</span>grid<span class="token punctuation">(</span>nx<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>ny<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#画另外两条线-------------------------------------------------</span>lines<span class="token punctuation">(</span>time<span class="token punctuation">,</span>chuyuan<span class="token punctuation">,</span>type<span class="token operator">=</span><span class="token string">"o"</span><span class="token punctuation">,</span>pch<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">,</span>col<span class="token operator">=</span>rainbowcolor<span class="token punctuation">,</span>lwd<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>cex<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#生成出院人数</span>lines<span class="token punctuation">(</span>time<span class="token punctuation">,</span>siwang<span class="token punctuation">,</span>type<span class="token operator">=</span><span class="token string">"o"</span><span class="token punctuation">,</span>pch<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">,</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">,</span>lwd<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">,</span>cex<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#生成死亡人数</span><span class="token comment" spellcheck="true">#添加确诊人数数字标注</span>txt <span class="token operator">&lt;-</span> text<span class="token punctuation">(</span>time<span class="token punctuation">,</span>quezhen<span class="token punctuation">,</span>as.character<span class="token punctuation">(</span>round<span class="token punctuation">(</span>quezhen<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cex <span class="token operator">=</span> <span class="token number">0.4</span><span class="token punctuation">,</span> pos <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> col <span class="token operator">=</span> <span class="token string">"red"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#添加垂直平行线-----------------------------------------------</span>abline<span class="token punctuation">(</span>v<span class="token operator">=</span>data<span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>h<span class="token operator">=</span><span class="token number">15196</span><span class="token punctuation">,</span>lty <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> col <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#添加矩形框---------------------------------------------------</span>rect<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">15796</span><span class="token punctuation">,</span>data<span class="token punctuation">[</span><span class="token number">33</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">14100</span><span class="token punctuation">,</span>border <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#添加检测标准变化文字标注-------------------------------------</span>text<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">14700</span><span class="token punctuation">,</span><span class="token string">'检测标准变化时间点'</span><span class="token punctuation">,</span>cex<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#添加图例----------------------------------------------------</span>legend<span class="token punctuation">(</span><span class="token string">"topright"</span><span class="token punctuation">,</span>c<span class="token punctuation">(</span><span class="token string">"新增确诊"</span><span class="token punctuation">,</span><span class="token string">"新增出院"</span><span class="token punctuation">,</span><span class="token string">"新增死亡"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pch<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>       col<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"black"</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">,</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>bg<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"black"</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">,</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>bty<span class="token operator">=</span><span class="token string">"n"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#添加x轴标签--------------------------------------------------</span><span class="token comment" spellcheck="true">#尚未成功过</span><span class="token comment" spellcheck="true">#区别于传统的x轴和y轴,axis允许在上,下,左,右4个方向添加轴线</span>xlabs<span class="token operator">&lt;-</span>substr<span class="token punctuation">(</span>time<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#提取x轴的日期标签列数据</span>x <span class="token operator">&lt;-</span> seq<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">)</span>axis<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>at<span class="token operator">=</span>x<span class="token punctuation">,</span>labels<span class="token operator">=</span>xlabs<span class="token punctuation">,</span>las<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#关闭---------------------------------------------------------</span>par<span class="token punctuation">(</span>opar<span class="token punctuation">)</span>dev.off<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="控制台Console输出"><a href="#控制台Console输出" class="headerlink" title="控制台Console输出"></a>控制台Console输出</h3><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> rm<span class="token punctuation">(</span>list <span class="token operator">=</span> ls<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">></span> getwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp1"</span><span class="token operator">></span> setwd<span class="token punctuation">(</span><span class="token string">"B:/Temp1"</span><span class="token punctuation">)</span><span class="token operator">></span> library<span class="token punctuation">(</span>readxl<span class="token punctuation">)</span><span class="token operator">></span> data<span class="token operator">=</span>read_xlsx<span class="token punctuation">(</span><span class="token string">"全国疫情整理-李世昱.xlsx"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#读取数据</span><span class="token operator">></span> data<span class="token comment" spellcheck="true"># A tibble: 43 x 4</span>   报道时间            新增确诊 新增出院 新增死亡   <span class="token operator">&lt;</span>dttm<span class="token operator">></span>                 <span class="token operator">&lt;</span>dbl<span class="token operator">></span>    <span class="token operator">&lt;</span>dbl<span class="token operator">></span>    <span class="token operator">&lt;</span>dbl<span class="token operator">></span> <span class="token number">1</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">11</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span>       <span class="token number">41</span>        <span class="token number">2</span>        <span class="token number">1</span> <span class="token number">2</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">12</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span>        <span class="token number">0</span>        <span class="token number">4</span>        <span class="token number">0</span> <span class="token number">3</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span>        <span class="token number">0</span>        <span class="token number">1</span>        <span class="token number">0</span> <span class="token number">4</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">16</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span>        <span class="token number">0</span>        <span class="token number">5</span>        <span class="token number">1</span> <span class="token number">5</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">17</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span>        <span class="token number">2</span>        <span class="token number">0</span>        <span class="token number">0</span> <span class="token number">6</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">18</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span>        <span class="token number">5</span>        <span class="token number">4</span>        <span class="token number">0</span> <span class="token number">7</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span>       <span class="token number">17</span>        <span class="token number">4</span>        <span class="token number">0</span> <span class="token number">8</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span>      <span class="token number">156</span>        <span class="token number">6</span>        <span class="token number">2</span> <span class="token number">9</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">21</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span>      <span class="token number">103</span>        <span class="token number">0</span>        <span class="token number">2</span><span class="token number">10</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">22</span> <span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">00</span>      <span class="token number">231</span>        <span class="token number">5</span>       <span class="token number">11</span><span class="token comment" spellcheck="true"># ... with 33 more rows</span><span class="token operator">></span> <span class="token comment" spellcheck="true">#自定义颜色和字体--------------------------------------</span><span class="token operator">></span> rainbowcolor<span class="token operator">=</span>rainbow<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#自定义颜色生成彩虹七色</span><span class="token operator">></span> windowsFonts<span class="token punctuation">(</span>zhuanshu<span class="token operator">=</span>windowsFont<span class="token punctuation">(</span><span class="token string">"迷你繁篆书"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#更换运行环境，需要更改此字体，或下载此字体！</span><span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">#读取数据----------------------------------------------</span><span class="token operator">></span> time<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>data<span class="token operator">$</span>报道时间<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#读取时间数据，x轴</span><span class="token operator">></span> quezhen<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>data<span class="token operator">$</span>新增确诊<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#读取确诊人数数据，y轴数据</span><span class="token operator">></span> chuyuan<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>data<span class="token operator">$</span>新增出院<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#读取出院人数数据，y轴数据</span><span class="token operator">></span> siwang<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>data<span class="token operator">$</span>新增死亡<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#读取死亡人数数据，y轴数据</span><span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">#设置画布边距------------------------------------------</span><span class="token operator">></span> opar <span class="token operator">&lt;-</span> par<span class="token punctuation">(</span>no.readonly <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#开启自定义参数</span><span class="token operator">></span> par<span class="token punctuation">(</span>bty<span class="token operator">=</span><span class="token string">"u"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#bty: 控制坐标系风格 有l、7、c、u风格</span><span class="token operator">></span> par<span class="token punctuation">(</span><span class="token string">"mar"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#查看默认画布边距</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">5.1</span> <span class="token number">4.1</span> <span class="token number">4.1</span> <span class="token number">2.1</span><span class="token operator">></span> par<span class="token punctuation">(</span>mar<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">5.4</span><span class="token punctuation">,</span><span class="token number">4.4</span><span class="token punctuation">,</span><span class="token number">4.4</span><span class="token punctuation">,</span><span class="token number">3.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#重新自定义边距</span><span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">#输出tiff图---------------------------------------------</span><span class="token operator">></span> tiff<span class="token punctuation">(</span><span class="token string">"全国疫情变化.tif"</span><span class="token punctuation">,</span>height <span class="token operator">=</span> <span class="token number">2600</span><span class="token punctuation">,</span>width <span class="token operator">=</span> <span class="token number">2850</span><span class="token punctuation">,</span>res <span class="token operator">=</span> <span class="token number">450</span><span class="token punctuation">,</span>unit<span class="token operator">=</span><span class="token string">"px"</span><span class="token punctuation">,</span>compression <span class="token operator">=</span> <span class="token string">"lzw"</span><span class="token punctuation">)</span><span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">#Plot函数画图-------------------------------------------</span><span class="token operator">></span> plot<span class="token punctuation">(</span>time<span class="token punctuation">,</span><span class="token operator">+</span>      xaxt<span class="token operator">=</span><span class="token string">"n"</span><span class="token punctuation">,</span> <span class="token operator">+</span>      type <span class="token operator">=</span> <span class="token string">"o"</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#点线的样式</span><span class="token operator">+</span>      pch<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#点的样式,取值可以很大很大，会出现让人意想不到的情况</span><span class="token operator">+</span>      bg<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">#节点背景色</span><span class="token operator">+</span>      cex<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#折线节点点的大小</span><span class="token operator">+</span>      lty<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#线的样式</span><span class="token operator">+</span>      lwd<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#折线的粗细</span><span class="token operator">+</span>      main <span class="token operator">=</span><span class="token string">"1月11日—2月24日全国疫情变化"</span><span class="token punctuation">,</span><span class="token operator">+</span>      sub<span class="token operator">=</span><span class="token string">"Powered By李世?9?5  于2020/2/25晚"</span><span class="token punctuation">,</span><span class="token operator">+</span>      xlab <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#x轴标题</span><span class="token operator">+</span>      ylab <span class="token operator">=</span> <span class="token string">'人数'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#y轴标题</span><span class="token operator">+</span>      family<span class="token operator">=</span><span class="token string">'zhuanshu'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#字体</span><span class="token operator">+</span>      cex.main<span class="token operator">=</span><span class="token number">2.4</span><span class="token punctuation">,</span>cex.sub<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">,</span>cex.lab<span class="token operator">=</span><span class="token number">1.4</span><span class="token punctuation">,</span>cex.axis<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#文字大小</span><span class="token operator">+</span>      ylim<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>quezhen<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#设置y轴取值范围</span><span class="token operator">></span> <span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">#生成网格-----------------------------------------------------</span><span class="token operator">></span> grid<span class="token punctuation">(</span>nx<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>ny<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">#画另外两条线-------------------------------------------------</span><span class="token operator">></span> lines<span class="token punctuation">(</span>time<span class="token punctuation">,</span>chuyuan<span class="token punctuation">,</span>type<span class="token operator">=</span><span class="token string">"o"</span><span class="token punctuation">,</span>pch<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">,</span>col<span class="token operator">=</span>rainbowcolor<span class="token punctuation">,</span>lwd<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>cex<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#生成出院人数</span><span class="token operator">></span> lines<span class="token punctuation">(</span>time<span class="token punctuation">,</span>siwang<span class="token punctuation">,</span>type<span class="token operator">=</span><span class="token string">"o"</span><span class="token punctuation">,</span>pch<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">,</span>col<span class="token operator">=</span><span class="token string">"red"</span><span class="token punctuation">,</span>lwd<span class="token operator">=</span><span class="token number">1.5</span><span class="token punctuation">,</span>cex<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#生成死亡人数</span><span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">#添加确诊人数数字标注</span><span class="token operator">></span> txt <span class="token operator">&lt;-</span> text<span class="token punctuation">(</span>time<span class="token punctuation">,</span>quezhen<span class="token punctuation">,</span>as.character<span class="token punctuation">(</span>round<span class="token punctuation">(</span>quezhen<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cex <span class="token operator">=</span> <span class="token number">0.4</span><span class="token punctuation">,</span> pos <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> col <span class="token operator">=</span> <span class="token string">"red"</span><span class="token punctuation">)</span><span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">#添加垂直平行线-----------------------------------------------</span><span class="token operator">></span> abline<span class="token punctuation">(</span>v<span class="token operator">=</span>data<span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>h<span class="token operator">=</span><span class="token number">15196</span><span class="token punctuation">,</span>lty <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> col <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">#添加矩形框---------------------------------------------------</span><span class="token operator">></span> rect<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">15796</span><span class="token punctuation">,</span>data<span class="token punctuation">[</span><span class="token number">33</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">14100</span><span class="token punctuation">,</span>border <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">#添加检测标准变化文字标注-------------------------------------</span><span class="token operator">></span> text<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">14700</span><span class="token punctuation">,</span><span class="token string">'检测标准变化时间点'</span><span class="token punctuation">,</span>cex<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">#添加图例----------------------------------------------------</span><span class="token operator">></span> legend<span class="token punctuation">(</span><span class="token string">"topright"</span><span class="token punctuation">,</span>c<span class="token punctuation">(</span><span class="token string">"新增确诊"</span><span class="token punctuation">,</span><span class="token string">"新增出院"</span><span class="token punctuation">,</span><span class="token string">"新增死亡"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pch<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">+</span>        col<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"black"</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">,</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>bg<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"black"</span><span class="token punctuation">,</span><span class="token string">'green'</span><span class="token punctuation">,</span><span class="token string">"red"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>bty<span class="token operator">=</span><span class="token string">"n"</span><span class="token punctuation">)</span><span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">#添加x轴标签--------------------------------------------------</span><span class="token comment" spellcheck="true">#尚未成功过</span><span class="token operator">></span> xlabs<span class="token operator">&lt;-</span>substr<span class="token punctuation">(</span>time<span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#提取x轴的日期标签列数据</span><span class="token operator">></span> x <span class="token operator">&lt;-</span> seq<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token operator">></span> axis<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>at<span class="token operator">=</span>x<span class="token punctuation">,</span>labels<span class="token operator">=</span>xlabs<span class="token punctuation">,</span>las<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">#关闭---------------------------------------------------------</span><span class="token operator">></span> par<span class="token punctuation">(</span>opar<span class="token punctuation">)</span><span class="token operator">></span> dev.off<span class="token punctuation">(</span><span class="token punctuation">)</span>RStudioGD         <span class="token number">2</span> <span class="token operator">></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="输出tiff"><a href="#输出tiff" class="headerlink" title="输出tiff"></a>输出tiff</h3><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/post/Ryiqing.JPG" alt=""></p><p><a href="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/post/R全国疫情变化1.tif" target="_blank" rel="noopener">原图下载</a></p><p>数据来源：<a href="https://www.thepaper.cn/list_25635" target="_blank" rel="noopener">澎湃美数课</a>，个人认为他有着较好的数字可视化表达方式</p><h4 id="参数小说明"><a href="#参数小说明" class="headerlink" title="参数小说明"></a>参数小说明</h4><blockquote><p>#type = “p” ：点图<br>#type = “l” ：折线图,<br>#type = “b” ：既有点图又有折线，就叫它附点折线图吧<br>#type = “c” ：只画附点折线图线的那部分<br>#type = “o” ：重叠的附点折线图<br>#type = “h” ：垂直线图<br>#type = “s” ：阶梯图<br>#type = “S” ：另外一种阶梯图<br>#type = “n” ：不画图，只画出坐标</p><p>font.axis=2,设置坐标刻度字体，1常规字体，2加粗字体，3斜体字，4斜体加粗</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/post/Rpchandlty.JPG" alt=""></p><h2 id="示例二"><a href="#示例二" class="headerlink" title="示例二"></a>示例二</h2><pre class="line-numbers language-r"><code class="language-r">x <span class="token operator">&lt;-</span> seq<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span>months <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token string">'一月'</span><span class="token punctuation">,</span><span class="token string">'二月'</span><span class="token punctuation">,</span><span class="token string">'三月'</span><span class="token punctuation">,</span><span class="token string">'四月'</span><span class="token punctuation">,</span><span class="token string">'五月'</span><span class="token punctuation">,</span><span class="token string">'六月'</span><span class="token punctuation">,</span><span class="token string">'七月'</span><span class="token punctuation">,</span><span class="token string">'八月'</span><span class="token punctuation">,</span><span class="token string">'九月'</span><span class="token punctuation">,</span><span class="token string">'十月'</span><span class="token punctuation">,</span><span class="token string">'十一月'</span><span class="token punctuation">,</span><span class="token string">'十二月'</span><span class="token punctuation">)</span>monthstypeof<span class="token punctuation">(</span>x<span class="token punctuation">)</span>typeof<span class="token punctuation">(</span>months<span class="token punctuation">)</span>Tokyo <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token number">7.0</span><span class="token punctuation">,</span><span class="token number">6.9</span><span class="token punctuation">,</span><span class="token number">9.5</span><span class="token punctuation">,</span><span class="token number">14.5</span><span class="token punctuation">,</span><span class="token number">18.2</span><span class="token punctuation">,</span><span class="token number">21.5</span><span class="token punctuation">,</span><span class="token number">25.2</span><span class="token punctuation">,</span><span class="token number">26.5</span><span class="token punctuation">,</span><span class="token number">23.3</span><span class="token punctuation">,</span><span class="token number">18.3</span><span class="token punctuation">,</span><span class="token number">13.9</span><span class="token punctuation">,</span><span class="token number">9.6</span><span class="token punctuation">)</span>New_York <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token operator">-</span>.<span class="token number">2</span><span class="token punctuation">,</span>.<span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5.7</span><span class="token punctuation">,</span><span class="token number">11.3</span><span class="token punctuation">,</span><span class="token number">17.0</span><span class="token punctuation">,</span><span class="token number">22.0</span><span class="token punctuation">,</span><span class="token number">24.8</span><span class="token punctuation">,</span><span class="token number">24.1</span><span class="token punctuation">,</span><span class="token number">20.1</span><span class="token punctuation">,</span><span class="token number">14.1</span><span class="token punctuation">,</span><span class="token number">8.6</span><span class="token punctuation">,</span><span class="token number">2.5</span><span class="token punctuation">)</span>Berlin <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token operator">-</span>.<span class="token number">9</span><span class="token punctuation">,</span>.<span class="token number">6</span><span class="token punctuation">,</span><span class="token number">3.5</span><span class="token punctuation">,</span><span class="token number">8.4</span><span class="token punctuation">,</span><span class="token number">13.5</span><span class="token punctuation">,</span><span class="token number">17.0</span><span class="token punctuation">,</span><span class="token number">18.6</span><span class="token punctuation">,</span><span class="token number">17.9</span><span class="token punctuation">,</span><span class="token number">14.3</span><span class="token punctuation">,</span><span class="token number">9.0</span><span class="token punctuation">,</span><span class="token number">3.9</span><span class="token punctuation">,</span><span class="token number">1.0</span><span class="token punctuation">)</span>London <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token number">3.9</span><span class="token punctuation">,</span><span class="token number">4.2</span><span class="token punctuation">,</span><span class="token number">5.7</span><span class="token punctuation">,</span><span class="token number">8.5</span><span class="token punctuation">,</span><span class="token number">11.9</span><span class="token punctuation">,</span><span class="token number">15.2</span><span class="token punctuation">,</span><span class="token number">17.0</span><span class="token punctuation">,</span><span class="token number">16.6</span><span class="token punctuation">,</span><span class="token number">14.2</span><span class="token punctuation">,</span><span class="token number">10.3</span><span class="token punctuation">,</span><span class="token number">6.6</span><span class="token punctuation">,</span><span class="token number">4.8</span><span class="token punctuation">)</span>Londonopar <span class="token operator">&lt;-</span> par<span class="token punctuation">(</span>no.readonly <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>par<span class="token punctuation">(</span>bty<span class="token operator">=</span><span class="token string">"n"</span><span class="token punctuation">)</span>plot<span class="token punctuation">(</span>Tokyo<span class="token punctuation">,</span>     xaxt<span class="token operator">=</span><span class="token string">"n"</span><span class="token punctuation">,</span>     pch<span class="token operator">=</span><span class="token number">19</span><span class="token punctuation">,</span>type<span class="token operator">=</span><span class="token string">"b"</span><span class="token punctuation">,</span>     lwd<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>     main<span class="token operator">=</span><span class="token string">"月平均气温"</span><span class="token punctuation">,</span>     sub<span class="token operator">=</span><span class="token string">"Plotted by R Language"</span><span class="token punctuation">,</span>     ylim<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>     col<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">,</span>xlab<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">,</span>     ylab<span class="token operator">=</span><span class="token string">"Temperature(℃)"</span><span class="token punctuation">,</span>     axes<span class="token operator">=</span><span class="token boolean">FALSE</span><span class="token punctuation">)</span>lines<span class="token punctuation">(</span>New_York<span class="token punctuation">,</span>type<span class="token operator">=</span><span class="token string">"b"</span><span class="token punctuation">,</span>pch<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">,</span>col<span class="token operator">=</span><span class="token string">"black"</span><span class="token punctuation">,</span>lwd<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>lines<span class="token punctuation">(</span>Berlin<span class="token punctuation">,</span>type<span class="token operator">=</span><span class="token string">"b"</span><span class="token punctuation">,</span>pch<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">,</span>col<span class="token operator">=</span><span class="token string">"green"</span><span class="token punctuation">,</span>lwd<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>lines<span class="token punctuation">(</span>London<span class="token punctuation">,</span>type<span class="token operator">=</span><span class="token string">"b"</span><span class="token punctuation">,</span>pch<span class="token operator">=</span><span class="token number">17</span><span class="token punctuation">,</span>col<span class="token operator">=</span><span class="token string">"orange"</span><span class="token punctuation">,</span>lwd<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>axis<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>at<span class="token operator">=</span>seq<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>tick<span class="token operator">=</span>F<span class="token punctuation">)</span>axis<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>at<span class="token operator">=</span>x<span class="token punctuation">,</span>labels<span class="token operator">=</span>months<span class="token punctuation">,</span>las<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>abline<span class="token punctuation">(</span>h<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>col<span class="token operator">=</span><span class="token string">"gray"</span><span class="token punctuation">)</span>legend<span class="token punctuation">(</span><span class="token string">"topright"</span><span class="token punctuation">,</span>c<span class="token punctuation">(</span><span class="token string">"Tokyo"</span><span class="token punctuation">,</span><span class="token string">"New York"</span><span class="token punctuation">,</span><span class="token string">"Berlin"</span><span class="token punctuation">,</span><span class="token string">"London"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pch<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">,</span>       col<span class="token operator">=</span>c<span class="token punctuation">(</span><span class="token string">"blue"</span><span class="token punctuation">,</span><span class="token string">"black"</span><span class="token punctuation">,</span><span class="token string">"green"</span><span class="token punctuation">,</span><span class="token string">"orange"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>bty<span class="token operator">=</span><span class="token string">"n"</span><span class="token punctuation">)</span>par<span class="token punctuation">(</span>opar<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="tiff输出"><a href="#tiff输出" class="headerlink" title="tiff输出"></a>tiff输出</h3><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/post/RRplot.jpeg" alt=""></p><hr><h2 id="垂直线示例"><a href="#垂直线示例" class="headerlink" title="垂直线示例"></a>垂直线示例</h2><pre class="line-numbers language-r"><code class="language-r">plot<span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token punctuation">,</span> xlim <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ylim <span class="token operator">=</span> c <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#abline(v = 0, col = "blue")</span><span class="token comment" spellcheck="true">#abline(h = c(0,1,2), v = c(0,1,2), col = c("red", "green", "blue"))</span><span class="token comment" spellcheck="true">#h: y水平线 设置y=多少即可画出y=多少的平行于x轴的直线</span><span class="token comment" spellcheck="true">#v: x垂直线 同上</span>abline<span class="token punctuation">(</span>h<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>v<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span>lty <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span> col <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">)</span>abline<span class="token punctuation">(</span>h <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> col <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"green"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>abline<span class="token punctuation">(</span>v <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> col <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token string">"red"</span><span class="token punctuation">,</span> <span class="token string">"green"</span><span class="token punctuation">,</span> <span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="title函数"><a href="#title函数" class="headerlink" title="title函数"></a>title函数</h2><pre class="line-numbers language-r"><code class="language-r"><span class="token comment" spellcheck="true">#为y轴标题设置</span>title<span class="token punctuation">(</span>ylab <span class="token operator">=</span> <span class="token string">"Weight"</span><span class="token punctuation">,</span>      col.lab <span class="token operator">=</span> <span class="token string">"orange"</span><span class="token punctuation">,</span>      cex.lab <span class="token operator">=</span> <span class="token number">1.5</span><span class="token punctuation">,</span> font.lab <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="同布异表"><a href="#同布异表" class="headerlink" title="同布异表"></a>同布异表</h2><p>同一个画布下有多个图表</p><pre class="line-numbers language-r"><code class="language-r"><span class="token comment" spellcheck="true"># 同布异表</span>a<span class="token operator">&lt;-</span><span class="token number">2000</span><span class="token operator">:</span><span class="token number">2018</span>length<span class="token punctuation">(</span>a<span class="token punctuation">)</span>b<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>runif<span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">350</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>d<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>runif<span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>mat <span class="token operator">&lt;-</span> matrix<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> byrow <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span>matlayout<span class="token punctuation">(</span>mat<span class="token punctuation">,</span> widths <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> heights <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>plot<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>plot<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="控制台输出"><a href="#控制台输出" class="headerlink" title="控制台输出"></a>控制台输出</h3><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> a<span class="token operator">&lt;-</span><span class="token number">2000</span><span class="token operator">:</span><span class="token number">2018</span><span class="token operator">></span> length<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">19</span><span class="token operator">></span> b<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>runif<span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">350</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">></span> d<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>runif<span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">></span> mat <span class="token operator">&lt;-</span> matrix<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> byrow <span class="token operator">=</span> <span class="token boolean">TRUE</span><span class="token punctuation">)</span><span class="token operator">></span> mat     <span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">]</span>    <span class="token number">1</span>    <span class="token number">2</span>    <span class="token number">3</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">]</span>    <span class="token number">4</span>    <span class="token number">5</span>    <span class="token number">6</span><span class="token operator">></span> layout<span class="token punctuation">(</span>mat<span class="token punctuation">,</span> widths <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> heights <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">></span> plot<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token operator">></span> plot<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="输出tiff-1"><a href="#输出tiff-1" class="headerlink" title="输出tiff"></a>输出tiff</h3><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/post/Rton.jpeg" alt=""></p><hr><p><a href="https://www.jianshu.com/p/167b61608dc1" target="_blank" rel="noopener">他山之石</a></p><hr><h2 id="试试ggplot吧！！！！"><a href="#试试ggplot吧！！！！" class="headerlink" title="试试ggplot吧！！！！"></a>试试ggplot吧！！！！</h2><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> R </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Plot函数 </tag>
            
            <tag> R </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>处理栅格属性</title>
      <link href="/2020/02/22/zha-ge-shu-xing-biao-chu-li/"/>
      <url>/2020/02/22/zha-ge-shu-xing-biao-chu-li/</url>
      
        <content type="html"><![CDATA[<p>使用工具：</p><p><strong>ArcMap</strong></p><p><strong>栅格计算器-Con函数</strong></p><p>数据：</p><p>土地利用栅格数据</p><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/post/arcgis%E6%95%B0%E6%8D%AE.JPG" alt=""></p><hr><h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a><strong>目的</strong></h2><p>如何将栅格属性表中的value字段的值“参差不齐”的合并处理呢</p><p>什么意思呢？<span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f633.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f633.png?v8">😳</span><br>举个栗子，<span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f447.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f447.png?v8">👇</span></p><p>在一个土地利用的栅格数据中，</p><p>以全球30米地表覆盖数据（GlobeLand30）为例， 共包括10个类型，分别是：耕地、森林、草地、灌丛地、水体、湿地、苔原、人造覆盖、裸地、冰川与永久积雪。</p><p>若想要将其合并为较少的数据。比如将森林和灌丛地合并，则需要按属性合并。</p><p>做毕业论文的学姐有如下理由：① 类太多作图做表都不合适 ②没有代表性③ 因为全球范围太大了</p><hr><h2 id="重分类"><a href="#重分类" class="headerlink" title="重分类"></a><strong>重分类</strong></h2><p>开始的思路为利用重分类工具。</p><p>发现重分类工具适合连续性分类，比如，1-5合并为0，6-10合并为1这样分类。</p><p>若要1和11合并为0；  2、3、4合并为1，这就有点麻烦了。</p><p>但也有一种思路。</p><p>就是新添加字段，按照需要合并的顺序，将1和11赋值排序，将二者排在第一第二位，这样，可直接利用新字段进行重分类，即可达到目的。</p><p><strong>但是，这样很蠢</strong>，面对数据量很大的情况，立马给跪。</p><p>放弃它！</p><hr><h2 id="Con函数"><a href="#Con函数" class="headerlink" title="Con函数"></a><strong>Con函数</strong></h2><p>Con函数为栅格计算器下的一个工具。</p><p>其正确的语法是：</p><p><strong>Con(判断条件，条件为True区域的栅格输出值，条件为False区域的栅格输出值)</strong></p><p><strong><u>可以嵌套！</u></strong></p><blockquote><p>1.简单用法：<br>Con(in_conditional_raster, true_raster, {false_raster})<br>2.嵌套（多条件）：<br>OutRas = Con(InRas1 &lt; 5, Sin(InRas1), Con(InRas1 &lt; 20, Cos(InRas1), Con(InRas1 &gt; 50, 100, 0)))<br>植入布尔运算：<br>OutRas = Con((InRas1 &gt; 5) &amp; (InRas1 &lt; 10), 5, 100)<br>3.多图层，多条件，多语句：<br>OutRas = Con(InRas1 &gt; 23, 5, Con(InRas1 &gt; 20, 12, Con((InRas1 &gt; 2) &amp; (InRas1 &lt; 17), Sin(InRas1), 100)))<br>多图层：<br>OutRas = Con(InRas1 + InRas2 &gt; 7, Sin(InRas1), Cos(InRas2))<br>OutRas2 = Con(InRas1 &lt; 9, InRas1 * InRas2 + Tan(InRas3), Cos(InRas1))</p></blockquote><p><strong>参数如下</strong></p><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/post/arcgis%E6%A0%85%E6%A0%BC%E8%AE%A1%E7%AE%97%E5%99%A8.JPG" alt=""></p><p>公式如下</p><blockquote><p>rastercalc6=Con(“landuse_2001.tif” == 0 | 11,0,Con(“landuse_2001.tif” ==1 | 2 | 3 | 4 | 5 ,1,Con(“landuse_2001.tif” == 6 | 7 | 8 | 9 | 10,2,Con(“landuse_2001.tif” == 12 | 14,3,Con(“landuse_2001.tif” == 13,4,5)))))</p></blockquote><blockquote><p>更正：以上错误了</p><p>rastercalc1=Con((“landuse_2001.tif” == 0) | (“landuse_2001.tif” == 11),1,Con((“landuse_2001.tif” &gt;= 1) &amp; (“landuse_2001.tif” &lt;= 5),2,Con((“landuse_2001.tif” &gt;= 6) &amp; (“landuse_2001.tif” &lt;= 10),3,Con((“landuse_2001.tif” == 12) | (“landuse_2001.tif” == 14),4,Con(“landuse_2001.tif” == 13,5,Con((“landuse_2001.tif” == 15) | (“landuse_2001.tif” == 16),6,7))))))</p></blockquote><p>【注意】<span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f44a.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f44a.png?v8">👊</span></p><p>公式中的rastercalc6，即要和输出栅格的名称一致。</p><p>时刻树立数据库意识。在数据库中处理数据。</p><p>结果如下，</p><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/post/arcgis%E7%BB%93%E6%9E%9C.JPG" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> GIS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 栅格属性表 </tag>
            
            <tag> 栅格计算器 </tag>
            
            <tag> Con函数 </tag>
            
            <tag> ArcGIS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>委托</title>
      <link href="/2020/02/21/wei-tuo/"/>
      <url>/2020/02/21/wei-tuo/</url>
      
        <content type="html"><![CDATA[<p>定义委托，相当于自定义委托声明的类。</p><p>委托可看出是一个函数的“容器”，将某一函数装入后，可把委托当作函数一样使用。</p><h2 id="例一："><a href="#例一：" class="headerlink" title="例一："></a><strong>例一：</strong></h2><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> System<span class="token punctuation">;</span><span class="token keyword">namespace</span> Delegate0<span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//可以将方法动态的赋给参数，可避免在程序中大量使用if-else，或Switch语句。有更好灵活性和可扩展性。</span>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">operclass</span>    <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//定义委托，注意委托的参数类型和返回值类型；参数类型为int，返回值类型为int；</span>        <span class="token comment" spellcheck="true">//相当于自定义类，其生成的对象可以生成一切委托类型的函数名。</span>        <span class="token keyword">public</span> <span class="token keyword">delegate</span> <span class="token keyword">int</span> <span class="token function">Mydelegate</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//任何参数类型为两个int，返回值为int的函数名，都可作为第三个参数的实参</span>        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">oper</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> Mydelegate mydelegate<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token function">mydelegate</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token keyword">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//两数相加方法</span>        <span class="token punctuation">{</span>            <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">sub</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//两数相加方法</span>        <span class="token punctuation">{</span>            <span class="token keyword">return</span> x <span class="token operator">-</span> y<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">class</span> <span class="token class-name">Program</span>    <span class="token punctuation">{</span>        <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            operclass myoperclass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">operclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"1+1={0}"</span><span class="token punctuation">,</span> myoperclass<span class="token punctuation">.</span><span class="token function">oper</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> myoperclass<span class="token punctuation">.</span><span class="token keyword">add</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"1-1={0}"</span><span class="token punctuation">,</span>myoperclass<span class="token punctuation">.</span><span class="token function">oper</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>myoperclass<span class="token punctuation">.</span>sub<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>输出：</p><pre class="line-numbers language-csharp"><code class="language-csharp">add10<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="例二："><a href="#例二：" class="headerlink" title="例二："></a>例二：</h2><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> System<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">delegate</span> <span class="token keyword">void</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token keyword">string</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//定义委托</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">greetclass</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> greet greetdelegate<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//实例化委托</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Englisgreet</span><span class="token punctuation">(</span><span class="token keyword">string</span> name<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Hello"</span><span class="token operator">+</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">Chinesegreet</span><span class="token punctuation">(</span><span class="token keyword">string</span> name<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"你好"</span><span class="token operator">+</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>greetdelegate<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//绑定委托，则因此句触发。</span>        <span class="token punctuation">{</span>            <span class="token function">greetdelegate</span><span class="token punctuation">(</span><span class="token string">"张三"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">main</span><span class="token punctuation">{</span>    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        greetclass greetclass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">greetclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        greetclass<span class="token punctuation">.</span>greetdelegate <span class="token operator">=</span> greetclass<span class="token punctuation">.</span>Englisgreet<span class="token punctuation">;</span>        greetclass<span class="token punctuation">.</span>greetdelegate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">greet</span><span class="token punctuation">(</span>greetclass<span class="token punctuation">.</span>Chinesegreet<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//重新实例化委托greet</span>        greetclass<span class="token punctuation">.</span>greetdelegate <span class="token operator">+</span><span class="token operator">=</span> greetclass<span class="token punctuation">.</span>Englisgreet<span class="token punctuation">;</span>        greetclass<span class="token punctuation">.</span>greetdelegate <span class="token operator">+</span><span class="token operator">=</span> greetclass<span class="token punctuation">.</span>Chinesegreet<span class="token punctuation">;</span>        greetclass<span class="token punctuation">.</span><span class="token function">greetdelegate</span><span class="token punctuation">(</span><span class="token string">"hhhhhhhhhhhhhhhhh"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        greetclass<span class="token punctuation">.</span><span class="token function">greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C# </tag>
            
            <tag> 委托 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>高程点生成等值线</title>
      <link href="/2020/02/21/gao-cheng-dian-sheng-cheng-deng-zhi-xian/"/>
      <url>/2020/02/21/gao-cheng-dian-sheng-cheng-deng-zhi-xian/</url>
      
        <content type="html"><![CDATA[<ol><li><h2 id="准备矢量高程点数据"><a href="#准备矢量高程点数据" class="headerlink" title="准备矢量高程点数据"></a><strong>准备矢量高程点数据</strong></h2></li></ol><hr><ol start="2"><li><h2 id="使用RBF插值工具"><a href="#使用RBF插值工具" class="headerlink" title="使用RBF插值工具"></a>使用RBF插值工具</h2></li></ol><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Post/arcgisRBF%E6%8F%92%E5%80%BC.JPG" alt=""></p><p>注意输出</p><p><strong>地统计图层与栅格图层有些不同</strong></p><p>输出地统计图层和输出栅格结果对比</p><p>输出栅格选项结果更详细，但不可用在GA图层转等值线</p><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Post/arcgisRBF%E6%8F%92%E5%80%BC%E7%BB%93%E6%9E%9C%E5%AF%B9%E6%AF%94.JPG" alt=""></p><hr><ol start="3"><li><h2 id="GA图层转等值线"><a href="#GA图层转等值线" class="headerlink" title="GA图层转等值线"></a><strong>GA图层转等值线</strong></h2></li></ol><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Post/arcgisGA%E5%9B%BE%E5%B1%82%E8%BD%AC%E7%AD%89%E5%80%BC%E7%BA%BF.JPG" alt=""></p><p>输出结果</p><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Post/arcgisresult.JPG" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> GIS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ArcGIS </tag>
            
            <tag> 高程点生成等值线 </tag>
            
            <tag> 径向基函数RBF插值法 </tag>
            
            <tag> GA图层转等值线 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DDA直线生成算法</title>
      <link href="/2020/02/19/dda-zhi-xian-sheng-cheng-suan-fa/"/>
      <url>/2020/02/19/dda-zhi-xian-sheng-cheng-suan-fa/</url>
      
        <content type="html"><![CDATA[<p>计算机图形学是研究怎样用数字计算机生成、处理和显示图形的一门学科。</p><h2 id="DDA经典生成直线算法"><a href="#DDA经典生成直线算法" class="headerlink" title="DDA经典生成直线算法"></a><strong>DDA经典生成直线算法</strong></h2><pre class="line-numbers language-csharp"><code class="language-csharp"><span class="token keyword">using</span> System<span class="token punctuation">;</span><span class="token keyword">using</span> System<span class="token punctuation">.</span>Drawing<span class="token punctuation">;</span><span class="token keyword">using</span> System<span class="token punctuation">.</span>Windows<span class="token punctuation">.</span>Forms<span class="token punctuation">;</span><span class="token keyword">namespace</span> TextTemp<span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">partial</span> <span class="token keyword">class</span> <span class="token class-name">Form2</span> <span class="token punctuation">:</span> Form    <span class="token punctuation">{</span>        Graphics Graphics<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//定义画布，为form2的全局字段</span>        Bitmap Bitmap<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//定义位图，为form2的全局字段</span>        <span class="token keyword">public</span> <span class="token function">Form2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token function">InitializeComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            Graphics <span class="token operator">=</span> panel1<span class="token punctuation">.</span><span class="token function">CreateGraphics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//在form2的构造方法中实例化画布对象graphic</span>            Bitmap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bitmap</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//在form2的构造方法中实例化位图对象Bitmap</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//经典DDA算法</span>        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">Dda</span><span class="token punctuation">(</span><span class="token keyword">float</span> x1<span class="token punctuation">,</span><span class="token keyword">float</span> y1<span class="token punctuation">,</span><span class="token keyword">float</span> x2<span class="token punctuation">,</span><span class="token keyword">float</span> y2<span class="token punctuation">,</span>Color color<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">float</span> k<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//取最大值，作为分母。</span>            k <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>x2 <span class="token operator">-</span> x1<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>y2<span class="token operator">-</span>y1<span class="token punctuation">)</span><span class="token operator">></span>k<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                k <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">Abs</span><span class="token punctuation">(</span>y2 <span class="token operator">-</span> y1<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">float</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//动态坐标，也就是这条线上所有的点</span>            x <span class="token operator">=</span> x1<span class="token punctuation">;</span>            y <span class="token operator">=</span> y1<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//等于起始点</span>            <span class="token keyword">float</span> xincrea<span class="token punctuation">,</span> yincrea<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//坐标增量，动态坐标每走一点，所增加的量。</span>            xincrea <span class="token operator">=</span> <span class="token punctuation">(</span>x2 <span class="token operator">-</span> x1<span class="token punctuation">)</span> <span class="token operator">/</span> k<span class="token punctuation">;</span>            yincrea <span class="token operator">=</span> <span class="token punctuation">(</span>y2 <span class="token operator">-</span> y1<span class="token punctuation">)</span> <span class="token operator">/</span> k<span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//注意这个终止k，很讲究。</span>            <span class="token punctuation">{</span>                Bitmap<span class="token punctuation">.</span><span class="token function">SetPixel</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>x<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>y<span class="token punctuation">,</span> color<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//使用位图的SetPixel方法。</span>                x <span class="token operator">+</span><span class="token operator">=</span> xincrea<span class="token punctuation">;</span>                y <span class="token operator">+</span><span class="token operator">=</span> yincrea<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//通过button1的点击事件，来执行dda方法。</span>        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">button1_Click</span><span class="token punctuation">(</span><span class="token keyword">object</span> sender<span class="token punctuation">,</span> EventArgs e<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token function">Dda</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">,</span><span class="token number">800</span><span class="token punctuation">,</span>Color<span class="token punctuation">.</span>Blue<span class="token punctuation">)</span><span class="token punctuation">;</span>            Graphics<span class="token punctuation">.</span><span class="token function">DrawImage</span><span class="token punctuation">(</span>Bitmap<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Bitmap<span class="token punctuation">.</span>Width<span class="token punctuation">,</span> Bitmap<span class="token punctuation">.</span>Height<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//很重要，将位图和画布联系起来</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="窗体"><a href="#窗体" class="headerlink" title="窗体"></a><strong>窗体</strong></h3><p>在From中所用到的控件有，Panel和Button。</p><p>Panel是画布的容器，画布是位图的容器。</p><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Post/cadDDA.jpg" alt=""></p><hr><h2 id="GIE色度图"><a href="#GIE色度图" class="headerlink" title="GIE色度图"></a><strong>GIE色度图</strong></h2><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Post/cadGIE%E8%89%B2%E5%BA%A6%E5%9B%BE.JPG" alt=""></p><h2 id="RGB"><a href="#RGB" class="headerlink" title="RGB"></a><strong>RGB</strong></h2><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Post/cadRGB.JPG" alt=""></p><h2 id="CMY"><a href="#CMY" class="headerlink" title="CMY"></a><strong>CMY</strong></h2><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Post/cadCMY.JPG" alt=""></p><h2 id="HSV"><a href="#HSV" class="headerlink" title="HSV"></a><strong>HSV</strong></h2><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Post/cadHSV.JPG" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 计算机图形学 </category>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机图形学 </tag>
            
            <tag> DDA生成直线算法 </tag>
            
            <tag> GDI+ </tag>
            
            <tag> C# </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo</title>
      <link href="/2020/02/18/hexo/"/>
      <url>/2020/02/18/hexo/</url>
      
        <content type="html"><![CDATA[<h2 id="代码高亮"><a href="#代码高亮" class="headerlink" title="代码高亮"></a><strong>代码高亮</strong></h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> i -S hexo-prism-plugin<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>修改博客根目录下_config.yml的配置。</p><pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">highlight</span><span class="token punctuation">:</span>  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true">#关闭默认高亮</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>新增如下配置</p><pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># hexo-prism-plugin 代码高亮插件</span><span class="token key atrule">prism_plugin</span><span class="token punctuation">:</span>  <span class="token key atrule">mode</span><span class="token punctuation">:</span> <span class="token string">'preprocess'</span>    <span class="token comment" spellcheck="true"># realtime(实时处理)/preprocess(预处理)</span>  <span class="token key atrule">theme</span><span class="token punctuation">:</span> <span class="token string">'okaidia'</span>     <span class="token comment" spellcheck="true"># 主题 </span>  <span class="token comment" spellcheck="true">#theme: 'tomorrow'   </span>  <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">false     </span><span class="token comment" spellcheck="true"># 开启行数</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://github.com/PrismJS/prism-themes.git" target="_blank" rel="noopener">其他代码高亮主题</a></p><hr><h2 id="Categories一文多分类"><a href="#Categories一文多分类" class="headerlink" title="Categories一文多分类"></a><strong>Categories一文多分类</strong></h2><p>按照官方的解释，categories 这个选项有两种配置方法（其实有三种）。那我们就来讲讲这三种配置方法。</p><h3 id="子分类"><a href="#子分类" class="headerlink" title="子分类"></a><strong>子分类</strong></h3><p> 下面的分类会将该分章放到 Java/Servlet这个分类下。</p><p>categories:</p><ul><li>Java</li><li>Servlet<br>同样的作用我们也可以这样写。</li></ul><p>categories: [Java, Servlet]<br>上面两种方法最终效果一样，都是将文章放在了一个子分类的目录下。</p><h3 id="多个分类"><a href="#多个分类" class="headerlink" title="多个分类"></a><strong>多个分类</strong></h3><p>如果我们的要求是将文章同时分到多个不同的分类中呢，我们应该这样：</p><p>categories:<br>  -[Java]<br>  -[Servlet]<br>这样，就可以将上面的文章分类到 Java 和 Servlet 这两个不同的目录中了。</p><p>扩展一下，如果我们将其分类到 Java/Servlet 和 Programming 两个不同的目录下，我们应该如下写：</p><p>categories:<br>  -[Java, Servlet]<br>  -[Programming]</p><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>空间建模与分析</title>
      <link href="/2020/02/17/kong-jian-jian-mo-yu-fen-xi-yi/"/>
      <url>/2020/02/17/kong-jian-jian-mo-yu-fen-xi-yi/</url>
      
        <content type="html"><![CDATA[<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><h3 id="1、工作路径"><a href="#1、工作路径" class="headerlink" title="1、工作路径"></a><strong>1、工作路径</strong></h3><p>getwd() 列出当前工作路径；</p><p>setwd(dir) 设置工作路径，参数dir是要设置的路径。</p><h3 id="2、列出目录下文件"><a href="#2、列出目录下文件" class="headerlink" title="2、列出目录下文件"></a><strong>2、列出目录下文件</strong></h3><p>函数list.files和dir用法完全一样，可以列出路径下所有文件（包括目录）；函数list.dirs只列出路径下所有目录。</p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> getwd<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#当前工作目录</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"C:/Users/YU/Documents"</span><span class="token operator">></span> getwd<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#当前工作目录</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"C:/Users/YU/Documents"</span><span class="token comment" spellcheck="true">#ls()列出内存变量-----------------------</span>b<span class="token operator">=</span><span class="token number">3</span>ls<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"b"</span><span class="token comment" spellcheck="true">#-------------------------------------</span><span class="token operator">></span> <span class="token comment" spellcheck="true">#判断文件夹是否存在，不存在则创建一个</span><span class="token operator">></span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>file.exists<span class="token punctuation">(</span><span class="token string">"B:/Temp1/A"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">+</span>   dir.create<span class="token punctuation">(</span><span class="token string">"B:/Temp1/A"</span><span class="token punctuation">)</span><span class="token operator">+</span> <span class="token punctuation">}</span><span class="token operator">></span> <span class="token comment" spellcheck="true">#文件夹列表,目录</span><span class="token operator">></span> list.dirs<span class="token punctuation">(</span><span class="token string">"B:/Temp1"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp1"</span>       <span class="token string">"B:/Temp1/A"</span>     <span class="token string">"B:/Temp1/笔记"</span>  <span class="token string">"B:/Temp1/权游1"</span><span class="token operator">></span> <span class="token comment" spellcheck="true">#文件列表，文件名字</span><span class="token operator">></span> list.files<span class="token punctuation">(</span><span class="token string">"B:/Temp1"</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"A"</span>                             <span class="token string">"df_hb小学.txt"</span>                 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token string">"笔记"</span>                          <span class="token string">"高考.csv"</span>                      <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token string">"高考.xlsx"</span>                     <span class="token string">"河北高考人数csv输出.csv"</span>       <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token string">"河北高考人数csv输出减年.csv"</span>   <span class="token string">"权利的游戏第二季02 - 副本.mp4"</span> <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token string">"权利的游戏第二季03 - 副本.mp4"</span> <span class="token string">"权利的游戏第二季04 - 副本.mp4"</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token string">"权利的游戏第一季01.mp4"</span>        <span class="token string">"权利的游戏第一季02.mp4"</span>       <span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span> <span class="token string">"权利的游戏第一季03.mp4"</span>        <span class="token string">"权利的游戏第一季04.mp4"</span>       <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span> <span class="token string">"权游1"</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>list.files()函数参数解释</strong></p><p>list.files(path = “.”, pattern = NULL, all.files = FALSE,full.names = FALSE, recursive = FALSE,ignore.case = FALSE, include.dirs = FALSE, no.. = FALSE)</p><ol><li><p>path：输入文件夹路径</p></li><li><p>pattern：匹配文件名，选择自己所需的文件（可选项，默认是全部文件名，包括子文件夹，但是不包括子文件夹的文件），如pattern = “*.XPT”，表示要输出以.XPT结尾的文件名，如果没有符号，则输出包含.XPT的文件名</p></li><li><p>all.files：是否返回所有文件，包括隐藏文件，但不包括子文件夹的文件，默认是否</p></li><li><p>full.names：是否返回路径+文件名，默认是否，如果是否，则返回文件名</p></li><li><p>recursive：是否将子文件夹的文件也列出来</p></li><li><p>ignore.case：匹配的文件名是否忽略大小写，默认否，即不忽略大小写</p></li></ol><p>示例</p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> <span class="token punctuation">(</span>R.home<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"B:/installs/RStudio/path/R-3.6.2"</span><span class="token operator">></span> list.files<span class="token punctuation">(</span>R.home<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"bin"</span> <span class="token string">"CHANGES"</span> <span class="token string">"COPYING"</span> <span class="token string">"doc"</span> <span class="token string">"etc"</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token string">"include"</span> <span class="token string">"library"</span> <span class="token string">"MD5"</span> <span class="token string">"modules"</span> <span class="token string">"README"</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token string">"README.R-3.6.2"</span> <span class="token string">"share"</span> <span class="token string">"src"</span> <span class="token string">"Tcl"</span> <span class="token string">"tests"</span> <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span> <span class="token string">"unins000.dat"</span> <span class="token string">"unins000.exe"</span> <span class="token operator">></span> list.files<span class="token punctuation">(</span>R.home<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pattern <span class="token operator">=</span> <span class="token string">".dat$"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"unins000.dat"</span><span class="token operator">></span> list.files<span class="token punctuation">(</span>R.home<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pattern <span class="token operator">=</span> <span class="token string">".dat$"</span><span class="token punctuation">,</span>full.names <span class="token operator">=</span> T<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"B:/installs/RStudio/path/R-3.6.2/unins000.dat"</span><span class="token operator">></span> list.files<span class="token punctuation">(</span>R.home<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>pattern <span class="token operator">=</span> <span class="token string">"doc"</span><span class="token punctuation">,</span>full.names <span class="token operator">=</span> T<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"B:/installs/RStudio/path/R-3.6.2/doc"</span><span class="token comment" spellcheck="true">#pattern：匹配文件名，选择自己所需的文件（可选项，默认是全部文件名，包括子文件夹，但是不包括子文件夹的文件），如pattern = "*.XPT$"，表示要输出以.XPT结尾的文件名，如果没有$符号，则输出包含.XPT的文件名</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3、删除文件"><a href="#3、删除文件" class="headerlink" title="3、删除文件"></a><strong>3、删除文件</strong></h3><p><strong>file.remove函数</strong></p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> <span class="token comment" spellcheck="true">#删除文件</span> <span class="token operator">></span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>file.exists<span class="token punctuation">(</span><span class="token string">"B:/Temp1/冰与火之歌第一季01.mp4"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment" spellcheck="true">#先判断是否有这个文件，没有则创建一个</span> <span class="token operator">+</span> file.create<span class="token punctuation">(</span><span class="token string">"B:/Temp1/冰与火之歌第一季01.mp4"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">}</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token boolean">TRUE</span> <span class="token operator">></span> file.remove<span class="token punctuation">(</span><span class="token string">"B:/Temp1/冰与火之歌第一季01.mp4"</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token boolean">TRUE</span> <span class="token comment" spellcheck="true">#---------------------------------------------------</span><span class="token operator">></span> list.files<span class="token punctuation">(</span><span class="token string">"B:/Temp1/A"</span><span class="token punctuation">,</span>pattern <span class="token operator">=</span> <span class="token string">"02"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"权力的游戏第一季02.mp4"</span><span class="token operator">></span> <span class="token operator">></span> list.files<span class="token punctuation">(</span><span class="token string">"B:/Temp1/A"</span><span class="token punctuation">,</span>pattern <span class="token operator">=</span> <span class="token string">"02"</span><span class="token punctuation">,</span>full.names <span class="token operator">=</span> T<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp1/A/权力的游戏第一季02.mp4"</span><span class="token operator">></span> file.remove<span class="token punctuation">(</span>list.files<span class="token punctuation">(</span><span class="token string">"B:/Temp1/A/"</span><span class="token punctuation">,</span>pattern <span class="token operator">=</span> <span class="token string">"02"</span><span class="token punctuation">,</span>full.names <span class="token operator">=</span> F<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#必须是全部路径，full.names改为T</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token boolean">FALSE</span>Warning message<span class="token operator">:</span>In file.remove<span class="token punctuation">(</span>list.files<span class="token punctuation">(</span><span class="token string">"B:/Temp1/A/"</span><span class="token punctuation">,</span> pattern <span class="token operator">=</span> <span class="token string">"02"</span><span class="token punctuation">,</span> full.names <span class="token operator">=</span> F<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span>  无法删除文件<span class="token string">'权力的游戏第一季02.mp4'</span>，原因是<span class="token string">'No such file or directory'</span><span class="token operator">></span> file.remove<span class="token punctuation">(</span>list.files<span class="token punctuation">(</span><span class="token string">"B:/Temp1/A/"</span><span class="token punctuation">,</span>pattern <span class="token operator">=</span> <span class="token string">"02"</span><span class="token punctuation">,</span>full.names <span class="token operator">=</span> T<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#不能只是文件名</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token boolean">TRUE</span><span class="token operator">></span> list.files<span class="token punctuation">(</span><span class="token string">"B:/Temp1/A/"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#查看删除结果</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"权力的游戏第一季01.mp4"</span> <span class="token string">"权力的游戏第一季03.mp4"</span> <span class="token string">"权力的游戏第一季04.mp4"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>注意</strong></p><p>file.remove只能移除文件，不能移除文件夹</p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> list.dirs<span class="token punctuation">(</span><span class="token string">"B:/Temp2"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp2"</span>           <span class="token string">"B:/Temp2/.text"</span>     <span class="token string">"B:/Temp2/text"</span>     <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp2/text.text"</span> <span class="token string">"B:/Temp2/text.txt"</span> <span class="token operator">></span> file.remove<span class="token punctuation">(</span><span class="token string">"B:/Temp2/text"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#text是文件夹</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token boolean">FALSE</span>Warning message<span class="token operator">:</span>In file.remove<span class="token punctuation">(</span><span class="token string">"B:/Temp2/text"</span><span class="token punctuation">)</span> <span class="token operator">:</span>  无法删除文件<span class="token string">'B:/Temp2/text'</span>，原因是<span class="token string">'Permission denied'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4、复制文件"><a href="#4、复制文件" class="headerlink" title="4、复制文件"></a><strong>4、复制文件</strong></h3><p><strong>file.copy()</strong></p><p>file.copy(from, to, overwrite = recursive, recursive = FALSE,<br>          copy.mode = TRUE, copy.date = FALSE)<br>from是原始文件（目录）名，to是新文件（目录）名，二者可以是vector，但是长度需相同；</p><p>overwrite 若为TRUE，则文件被覆盖；</p><p>recursive 复制目录时recursive需为TRUE；</p><p>copy.mode若为TRUE，permission bits一并复制过来；</p><p>copy.date若为TRUE，文件日期一并复制过来。</p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> file0<span class="token operator">&lt;-</span>list.files<span class="token punctuation">(</span><span class="token string">"B:/Temp1"</span><span class="token punctuation">,</span>pattern <span class="token operator">=</span> <span class="token string">"权利的游戏第一季"</span><span class="token punctuation">,</span>full.names<span class="token operator">=</span>T<span class="token punctuation">)</span><span class="token operator">></span> file0<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp1/权利的游戏第一季01.mp4"</span> <span class="token string">"B:/Temp1/权利的游戏第一季02.mp4"</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp1/权利的游戏第一季03.mp4"</span> <span class="token string">"B:/Temp1/权利的游戏第一季04.mp4"</span><span class="token operator">></span> <span class="token comment" spellcheck="true">#复制文件----------------------------------------</span><span class="token operator">></span> file.copy<span class="token punctuation">(</span>file0<span class="token punctuation">,</span><span class="token string">"B:/Temp1/A"</span><span class="token punctuation">,</span>copy.date <span class="token operator">=</span> F<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#注意此时file0是路径+文件名</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token boolean">TRUE</span> <span class="token boolean">TRUE</span> <span class="token boolean">TRUE</span> <span class="token boolean">TRUE</span><span class="token operator">></span> <span class="token comment" spellcheck="true">#查看复制结果</span><span class="token operator">></span> list.files<span class="token punctuation">(</span><span class="token string">"B:/Temp1/A/"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"权力的游戏第一季01.mp4"</span> <span class="token string">"权力的游戏第一季03.mp4"</span> <span class="token string">"权力的游戏第一季04.mp4"</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token string">"权利的游戏第一季01.mp4"</span> <span class="token string">"权利的游戏第一季02.mp4"</span> <span class="token string">"权利的游戏第一季03.mp4"</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token string">"权利的游戏第一季04.mp4"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5、重命名"><a href="#5、重命名" class="headerlink" title="5、重命名"></a><strong>5、重命名</strong></h3><p><strong>file.rename</strong></p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> <span class="token comment" spellcheck="true">#重命名-------------------------------------------------</span><span class="token operator">></span> <span class="token comment" spellcheck="true">#获取A文件夹下的文件路径及文件名</span><span class="token operator">></span> fileA<span class="token operator">&lt;-</span>list.files<span class="token punctuation">(</span><span class="token string">"B:/Temp1/A"</span><span class="token punctuation">,</span>full.names <span class="token operator">=</span> T<span class="token punctuation">)</span><span class="token operator">></span> fileA<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp1/A/权力的游戏第一季01.mp4"</span> <span class="token string">"B:/Temp1/A/权力的游戏第一季03.mp4"</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp1/A/权力的游戏第一季04.mp4"</span> <span class="token string">"B:/Temp1/A/权利的游戏第一季01.mp4"</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp1/A/权利的游戏第一季02.mp4"</span> <span class="token string">"B:/Temp1/A/权利的游戏第一季03.mp4"</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp1/A/权利的游戏第一季04.mp4"</span><span class="token operator">></span> fileA_rename<span class="token operator">=</span>sub<span class="token punctuation">(</span><span class="token string">"利"</span><span class="token punctuation">,</span><span class="token string">"力"</span><span class="token punctuation">,</span>fileA<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#进行字符的替换,宋老师的输入法可能有毒，或者他语文不好。</span><span class="token operator">></span> fileA_rename<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp1/A/权力的游戏第一季01.mp4"</span> <span class="token string">"B:/Temp1/A/权力的游戏第一季03.mp4"</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp1/A/权力的游戏第一季04.mp4"</span> <span class="token string">"B:/Temp1/A/权力的游戏第一季01.mp4"</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp1/A/权力的游戏第一季02.mp4"</span> <span class="token string">"B:/Temp1/A/权力的游戏第一季03.mp4"</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp1/A/权力的游戏第一季04.mp4"</span><span class="token operator">></span> file.rename<span class="token punctuation">(</span>fileA<span class="token punctuation">,</span>fileA_rename<span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">#重命名操作</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token boolean">TRUE</span> <span class="token boolean">TRUE</span> <span class="token boolean">TRUE</span> <span class="token boolean">TRUE</span> <span class="token boolean">TRUE</span> <span class="token boolean">TRUE</span> <span class="token boolean">TRUE</span><span class="token operator">></span> list.files<span class="token punctuation">(</span><span class="token string">"B:/Temp1/A"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#查看结果</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"权力的游戏第一季01.mp4"</span> <span class="token string">"权力的游戏第一季02.mp4"</span> <span class="token string">"权力的游戏第一季03.mp4"</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token string">"权力的游戏第一季04.mp4"</span><span class="token comment" spellcheck="true">#补充小函数------------------------------------------</span><span class="token comment" spellcheck="true">#sub函数-----------------------</span><span class="token operator">></span>c<span class="token operator">=</span><span class="token string">"lishiyu"</span><span class="token operator">></span>c<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"lishiyu"</span>b<span class="token operator">&lt;-</span>sub<span class="token punctuation">(</span><span class="token string">"yu"</span><span class="token punctuation">,</span><span class="token string">"kjsfkjsdhgkhj"</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span>b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"lishikjsfkjsdhgkhj"</span>c<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"lishiyu"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>gsub()函数</p><p><a href="http://www.nicetool.net/embed/name_generator.html" target="_blank" rel="noopener">一个有趣的随机姓名生成网站</a></p><blockquote><p>谁把他变成付费的了:weary:</p><p>是我进的太多了吗……:sob::sob:</p></blockquote><p>随机生成50个李姓家族人氏</p><p>于是乎，生成了</p><p>如下结果</p><blockquote><p>李寝叹<br>李秋声<br>李损辞<br>李不庐<br>李幽忽<br>李此回<br>李日者<br>李彼其<br>李应寂<br>李花端<br>李香蒙<br>李园飞<br>李纵追<br>李慕兮<br>李郁而<br>李忆眠<br>李山托<br>李枝花<br>李其伤<br>李兮之<br>李易皮<br>李高低<br>李京和<br>李恢身<br>李还忽<br>李便狂<br>李椒盈<br>李债坡<br>李见兮<br>李傍岩<br>李林禽<br>李聊蟪<br>李在旁<br>李收欿<br>李驖在<br>李路兮<br>李行迈<br>李蕃长<br>李晦兮<br>李叶廊<br>李东帘<br>李看色<br>李师北<br>李沛罔<br>李吉兮<br>李帐不<br>李巨献<br>李降椒<br>李何至<br>李花故</p></blockquote><p>得去掉换行和空格啊</p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> a<span class="token operator">=</span>"李寝叹<span class="token operator">+</span> 李秋声<span class="token operator">+</span> 李损辞<span class="token operator">+</span> 李不庐<span class="token operator">+</span> 李幽忽<span class="token operator">+</span> 李此回<span class="token operator">+</span> 李日者<span class="token operator">+</span> 李彼其<span class="token operator">+</span> 李应寂<span class="token operator">+</span> 李花端<span class="token operator">+</span> 李香蒙<span class="token operator">+</span> 李园飞<span class="token operator">+</span> 李纵追<span class="token operator">+</span> 李慕兮<span class="token operator">+</span> 李郁而<span class="token operator">+</span> 李忆眠<span class="token operator">+</span> 李山托<span class="token operator">+</span> 李枝花<span class="token operator">+</span> 李其伤<span class="token operator">+</span> 李兮之<span class="token operator">+</span> 李易皮<span class="token operator">+</span> 李高低<span class="token operator">+</span> 李京和<span class="token operator">+</span> 李恢身<span class="token operator">+</span> 李还忽<span class="token operator">+</span> 李便狂<span class="token operator">+</span> 李椒盈<span class="token operator">+</span> 李债坡<span class="token operator">+</span> 李见兮<span class="token operator">+</span> 李傍岩<span class="token operator">+</span> 李林禽<span class="token operator">+</span> 李聊蟪<span class="token operator">+</span> 李在旁<span class="token operator">+</span> 李收欿<span class="token operator">+</span> 李驖在<span class="token operator">+</span> 李路兮<span class="token operator">+</span> 李行迈<span class="token operator">+</span> 李蕃长<span class="token operator">+</span> 李晦兮<span class="token operator">+</span> 李叶廊<span class="token operator">+</span> 李东帘<span class="token operator">+</span> 李看色<span class="token operator">+</span> 李师北<span class="token operator">+</span> 李沛罔<span class="token operator">+</span> 李吉兮<span class="token operator">+</span> 李帐不<span class="token operator">+</span> 李巨献<span class="token operator">+</span> 李降椒<span class="token operator">+</span> 李何至<span class="token operator">+</span> 李花故"<span class="token operator">></span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"李寝叹\n李秋声\n李损辞\n李不庐\n李幽忽\n李此回\n李日者\n李彼其\n李应寂\n李花端\n李香蒙\n李园飞\n李纵追\n李慕兮\n李郁而\n李忆眠\n李山托\n李枝花\n李其伤\n李兮之\n李易皮\n李高低\n李京和\n李恢身\n李还忽\n李便狂\n李椒盈\n李债坡\n李见兮\n李傍岩\n李林禽\n李聊蟪\n李在旁\n李收欿\n李驖在\n李路兮\n李行迈\n李蕃长\n李晦兮\n李叶廊\n李东帘\n李看色\n李师北\n李沛罔\n李吉兮\n李帐不\n李巨献\n李降椒\n李何至\n李花故"</span><span class="token operator">></span> b<span class="token operator">=</span>sub<span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">,</span><span class="token string">"、"</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token operator">></span> b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"李寝叹、李秋声\n李损辞\n李不庐\n李幽忽\n李此回\n李日者\n李彼其\n李应寂\n李花端\n李香蒙\n李园飞\n李纵追\n李慕兮\n李郁而\n李忆眠\n李山托\n李枝花\n李其伤\n李兮之\n李易皮\n李高低\n李京和\n李恢身\n李还忽\n李便狂\n李椒盈\n李债坡\n李见兮\n李傍岩\n李林禽\n李聊蟪\n李在旁\n李收欿\n李驖在\n李路兮\n李行迈\n李蕃长\n李晦兮\n李叶廊\n李东帘\n李看色\n李师北\n李沛罔\n李吉兮\n李帐不\n李巨献\n李降椒\n李何至\n李花故"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>不对啊，这只替换了第一个，仔细看，因为只有一个  [1]</p><p>gsub()函数</p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> c<span class="token operator">=</span>gsub<span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">,</span><span class="token string">"、"</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token operator">></span> c<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"李寝叹、李秋声、李损辞、李不庐、李幽忽、李此回、李日者、李彼其、李应寂、李花端、李香蒙、李园飞、李纵追、李慕兮、李郁而、李忆眠、李山托、李枝花、李其伤、李兮之、李易皮、李高低、李京和、李恢身、李还忽、李便狂、李椒盈、李债坡、李见兮、李傍岩、李林禽、李聊蟪、李在旁、李收欿、李驖在、李路兮、李行迈、李蕃长、李晦兮、李叶廊、李东帘、李看色、李师北、李沛罔、李吉兮、李帐不、李巨献、李降椒、李何至、李花故"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>OK~!</strong></p><p>提取出第2到4个位置上的字</p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> <span class="token comment" spellcheck="true">#提取出第2到4个位置上的字</span><span class="token operator">></span> substr<span class="token punctuation">(</span><span class="token string">"李世昱嘿嘿lishiyu"</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"世昱嘿"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><hr><p>其他字符串</p><blockquote><p>获取字符串长度：nchar()  </p><p>字符串分割：strsplit()  </p><p>字符串拼接：paste()<br>字符串截取：substr()  </p><p>字符串替代：gsub() chartr() sub()  </p><p>字符串匹配：grep()  </p><p>大小写替换：toupper() tolower()</p></blockquote><hr><h3 id="6、保存脚本文件"><a href="#6、保存脚本文件" class="headerlink" title="6、保存脚本文件"></a><strong>6、保存脚本文件</strong></h3><p>保存编码为GB18030，否则中文会变成乱码</p><h3 id="7、查看帮助文档"><a href="#7、查看帮助文档" class="headerlink" title="7、查看帮助文档"></a><strong>7、查看帮助文档</strong></h3><p>?加函数名</p><p>例如：?read.csv查看read.csv函数的帮助文档</p><pre class="line-numbers language-r"><code class="language-r">rm<span class="token punctuation">(</span>list<span class="token operator">=</span>ls<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>df<span class="token operator">&lt;-</span>read.csv<span class="token punctuation">(</span><span class="token string">"B:/hh.csv"</span><span class="token punctuation">,</span>header<span class="token operator">=</span>T<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="8、常用函数"><a href="#8、常用函数" class="headerlink" title="8、常用函数"></a>8、常用函数</h3><h4 id="1）strsplit拆分"><a href="#1）strsplit拆分" class="headerlink" title="1）strsplit拆分"></a>1）strsplit拆分</h4><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> <span class="token comment" spellcheck="true">#拆分</span><span class="token operator">></span> a<span class="token operator">&lt;-</span><span class="token string">'2020/2/24'</span><span class="token operator">></span> b<span class="token operator">&lt;-</span>strsplit<span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token operator">></span> b<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"2020"</span> <span class="token string">"2"</span>    <span class="token string">"24"</span>  <span class="token operator">></span> a1<span class="token operator">&lt;-</span>b<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">></span> a1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"2020"</span><span class="token operator">></span> a2<span class="token operator">&lt;-</span>b<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">></span> a2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"2"</span><span class="token operator">></span> a3<span class="token operator">&lt;-</span>b<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">></span> a3<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"24"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2）file-path-sans-ext文件去后缀"><a href="#2）file-path-sans-ext文件去后缀" class="headerlink" title="2）file_path_sans_ext文件去后缀"></a>2）file_path_sans_ext文件去后缀</h4><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> <span class="token comment" spellcheck="true">#文件去后缀</span><span class="token operator">></span> <span class="token comment" spellcheck="true">#需要导包，tools包</span><span class="token operator">></span> library<span class="token punctuation">(</span>tools<span class="token punctuation">)</span><span class="token operator">></span> flie0<span class="token operator">=</span>file_path_sans_ext<span class="token punctuation">(</span><span class="token string">"B:/Temp2/新建文本文档.txt"</span><span class="token punctuation">)</span><span class="token operator">></span> flie0<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"B:/Temp2/新建文本文档"</span><span class="token operator">></span> <span class="token comment" spellcheck="true">#原文件不改变</span><span class="token operator">></span> list.files<span class="token punctuation">(</span><span class="token string">"B:/Temp2/"</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"2017016525-马晓雷.rar"</span>                <span class="token string">"data"</span>                                 <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token string">"dd"</span>                                   <span class="token string">"DXY-COVID-19-Data-master"</span>             <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token string">"DXY-COVID-19-Data-master.zip"</span>         <span class="token string">"Novel-Coronavirus-Updates-master"</span>     <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token string">"Novel-Coronavirus-Updates-master.zip"</span> <span class="token string">"text"</span>                                 <span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token string">"text.text"</span>                            <span class="token string">"text.txt"</span>                            <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span> <span class="token string">"Zgkrs.R"</span>                              <span class="token string">"河北.csv"</span>                            <span class="token punctuation">[</span><span class="token number">13</span><span class="token punctuation">]</span> <span class="token string">"历年中高考人数.tif"</span>                   <span class="token string">"全国疫情整理-李世昱.xlsx"</span>            <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span> <span class="token string">"新建文本文档.txt"</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3）as-integer类型转换"><a href="#3）as-integer类型转换" class="headerlink" title="3）as.integer类型转换"></a>3）as.integer类型转换</h4><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> <span class="token comment" spellcheck="true">#类型转换</span><span class="token operator">></span> x<span class="token operator">=</span><span class="token string">'123'</span><span class="token operator">></span> typeof<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"character"</span><span class="token operator">></span> y<span class="token operator">&lt;-</span>as.numeric<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">></span> typeof<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"double"</span><span class="token operator">></span> y1<span class="token operator">&lt;-</span>as.integer<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">></span> typeof<span class="token punctuation">(</span>y1<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"integer"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="Plots图表"><a href="#Plots图表" class="headerlink" title="Plots图表"></a>Plots图表</h2><h3 id="读取数据文件"><a href="#读取数据文件" class="headerlink" title="读取数据文件"></a>读取数据文件</h3><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> rm<span class="token punctuation">(</span>list<span class="token operator">=</span>ls<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">></span> data<span class="token operator">=</span>read.csv<span class="token punctuation">(</span><span class="token string">"B:/Temp1/高考.csv"</span><span class="token punctuation">,</span>header<span class="token operator">=</span>T<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#读取csv数据,还有read.table</span><span class="token operator">></span> data   <span class="token comment" spellcheck="true">#查看数据</span>   地区 年份 中考人数 高考人数<span class="token number">1</span>  河北 <span class="token number">2000</span>      <span class="token number">330</span>      <span class="token number">400</span><span class="token number">2</span>  河北 <span class="token number">2001</span>      <span class="token number">332</span>      <span class="token number">405</span><span class="token number">3</span>  河北 <span class="token number">2002</span>      <span class="token number">334</span>      <span class="token number">410</span><span class="token number">4</span>  河北 <span class="token number">2003</span>      <span class="token number">336</span>      <span class="token number">415</span><span class="token number">5</span>  河北 <span class="token number">2004</span>      <span class="token number">338</span>      <span class="token number">420</span><span class="token number">6</span>  河北 <span class="token number">2005</span>      <span class="token number">340</span>      <span class="token number">425</span><span class="token number">7</span>  河南 <span class="token number">2000</span>      <span class="token number">360</span>      <span class="token number">430</span><span class="token number">8</span>  河南 <span class="token number">2001</span>      <span class="token number">365</span>      <span class="token number">435</span><span class="token number">9</span>  河南 <span class="token number">2002</span>      <span class="token number">370</span>      <span class="token number">440</span><span class="token number">10</span> 河南 <span class="token number">2003</span>      <span class="token number">375</span>      <span class="token number">445</span><span class="token number">11</span> 河南 <span class="token number">2004</span>      <span class="token number">380</span>      <span class="token number">450</span><span class="token number">12</span> 河南 <span class="token number">2005</span>      <span class="token number">385</span>      <span class="token number">455</span><span class="token operator">></span> colnames<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"地区"</span>     <span class="token string">"年份"</span>     <span class="token string">"中考人数"</span> <span class="token string">"高考人数"</span><span class="token operator">></span> colnames<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token operator">&lt;-</span>c<span class="token punctuation">(</span><span class="token string">'Region'</span><span class="token punctuation">,</span><span class="token string">'Year'</span><span class="token punctuation">,</span><span class="token string">'ZhongKao'</span><span class="token punctuation">,</span><span class="token string">'GaoKao'</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">#修改列名</span><span class="token operator">></span> colnames<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"Region"</span>   <span class="token string">"Year"</span>     <span class="token string">"ZhongKao"</span> <span class="token string">"GaoKao"</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="提取子集、去掉指定列"><a href="#提取子集、去掉指定列" class="headerlink" title="提取子集、去掉指定列"></a>提取子集、去掉指定列</h3><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> data_HB<span class="token operator">&lt;-</span>subset<span class="token punctuation">(</span>data<span class="token punctuation">,</span>Region<span class="token operator">==</span><span class="token string">'河北'</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">#提取Region为河北的子集</span><span class="token operator">></span> data_HB  Region Year ZhongKao GaoKao<span class="token number">1</span>   河北 <span class="token number">2000</span>      <span class="token number">330</span>    <span class="token number">400</span><span class="token number">2</span>   河北 <span class="token number">2001</span>      <span class="token number">332</span>    <span class="token number">405</span><span class="token number">3</span>   河北 <span class="token number">2002</span>      <span class="token number">334</span>    <span class="token number">410</span><span class="token number">4</span>   河北 <span class="token number">2003</span>      <span class="token number">336</span>    <span class="token number">415</span><span class="token number">5</span>   河北 <span class="token number">2004</span>      <span class="token number">338</span>    <span class="token number">420</span><span class="token number">6</span>   河北 <span class="token number">2005</span>      <span class="token number">340</span>    <span class="token number">425</span><span class="token operator">></span> write.csv<span class="token punctuation">(</span>data_HB<span class="token punctuation">,</span><span class="token string">"B:/Temp1/A/子集河北.csv"</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">#还有write.table</span><span class="token comment" spellcheck="true"># write.table(data_HB,"B:/Temp1/A/子集河北0.txt",append = T) #追加，下有详细说明</span><span class="token operator">></span> dataNoYear<span class="token operator">&lt;-</span>subset<span class="token punctuation">(</span>data<span class="token punctuation">,</span>select <span class="token operator">=</span> <span class="token operator">-</span>Year<span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">#去掉Year列的子集，有减号</span><span class="token operator">></span> dataNoYear   <span class="token comment" spellcheck="true">#查看结果</span>   Region ZhongKao GaoKao<span class="token number">1</span>    河北      <span class="token number">330</span>    <span class="token number">400</span><span class="token number">2</span>    河北      <span class="token number">332</span>    <span class="token number">405</span><span class="token number">3</span>    河北      <span class="token number">334</span>    <span class="token number">410</span><span class="token number">4</span>    河北      <span class="token number">336</span>    <span class="token number">415</span><span class="token number">5</span>    河北      <span class="token number">338</span>    <span class="token number">420</span><span class="token number">6</span>    河北      <span class="token number">340</span>    <span class="token number">425</span><span class="token number">7</span>    河南      <span class="token number">360</span>    <span class="token number">430</span><span class="token number">8</span>    河南      <span class="token number">365</span>    <span class="token number">435</span><span class="token number">9</span>    河南      <span class="token number">370</span>    <span class="token number">440</span><span class="token number">10</span>   河南      <span class="token number">375</span>    <span class="token number">445</span><span class="token number">11</span>   河南      <span class="token number">380</span>    <span class="token number">450</span><span class="token number">12</span>   河南      <span class="token number">385</span>    <span class="token number">455</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>write.table的append参数</p><pre class="line-numbers language-r"><code class="language-r"> write.table<span class="token punctuation">(</span>data_HB<span class="token punctuation">,</span><span class="token string">"B:/Temp1/A/子集河北0.txt"</span><span class="token punctuation">,</span>append <span class="token operator">=</span> T<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#追加</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>输出结果</p><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Post/R/%E4%B8%80004.JPG" alt=""></p><h3 id="Plot"><a href="#Plot" class="headerlink" title="Plot"></a>Plot</h3><pre class="line-numbers language-r"><code class="language-r">View<span class="token punctuation">(</span>data_HB<span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">#查看data_HB</span><span class="token operator">></span> plot<span class="token punctuation">(</span>data_HB<span class="token operator">$</span>Year<span class="token punctuation">,</span>data_HB<span class="token operator">$</span>ZhongKao<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>结果：</p><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Post/RRplot1.jpeg" alt=""></p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> a<span class="token operator">&lt;-</span><span class="token number">2000</span><span class="token operator">:</span><span class="token number">2018</span><span class="token operator">></span> length<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">19</span><span class="token operator">></span> b<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>runif<span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">350</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">></span> plot<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">"o"</span><span class="token punctuation">,</span>pch<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">,</span>bg<span class="token operator">=</span><span class="token string">"pink"</span><span class="token punctuation">,</span>cex<span class="token operator">=</span><span class="token number">1.3</span><span class="token punctuation">,</span>lty<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>lwd<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>main <span class="token operator">=</span><span class="token string">"2000-2018年历年高考报考人数"</span><span class="token punctuation">,</span>col.main<span class="token operator">=</span><span class="token string">"black"</span><span class="token punctuation">,</span> font.main<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>xlab <span class="token operator">=</span><span class="token string">"年份/年"</span><span class="token punctuation">,</span> ylab <span class="token operator">=</span> <span class="token string">"人数/万"</span><span class="token punctuation">,</span> col.lab<span class="token operator">=</span>rgb<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>font.lab<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>xlim <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span><span class="token number">2018</span><span class="token punctuation">)</span><span class="token punctuation">,</span>col<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">,</span>bty<span class="token operator">=</span><span class="token string">"l"</span><span class="token punctuation">)</span><span class="token operator">></span> <span class="token comment" spellcheck="true">#a横坐标</span><span class="token comment" spellcheck="true">#b纵坐标</span><span class="token comment" spellcheck="true">#type节点类型</span><span class="token comment" spellcheck="true">#……</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>各参数详解</strong></p><blockquote><p>type为类型。</p><p>bg为节点底色<br>cex为节点大小<br>lty=6为线条类型，实线，虚线……<br>lwd=2为线条粗细<br>main为表格标题<br>col.main=”black”为标题字体颜色为黑色<br>ylab = “人数/万”为纵坐标标题<br>col.lab=rgb(0,0.5,0.5)为纵坐标标题字体颜色<br>font.lab=2为纵坐标标题字体大小</p><p>xlim = c(2000,2018),col=”blue”,bty=”l”没细追究，嘻嘻</p></blockquote><p><strong>注意</strong></p><p>不能这么赋值。</p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> a<span class="token operator">=</span><span class="token number">2000</span><span class="token operator">:</span><span class="token number">2018</span>Warning messages<span class="token operator">:</span><span class="token number">1</span><span class="token operator">:</span> In doTryCatch<span class="token punctuation">(</span>return<span class="token punctuation">(</span>expr<span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> parentenv<span class="token punctuation">,</span> handler<span class="token punctuation">)</span> <span class="token operator">:</span>  显示串列没有完全被刷新<span class="token number">2</span><span class="token operator">:</span> In doTryCatch<span class="token punctuation">(</span>return<span class="token punctuation">(</span>expr<span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> parentenv<span class="token punctuation">,</span> handler<span class="token punctuation">)</span> <span class="token operator">:</span>  invalid graphics state<span class="token number">3</span><span class="token operator">:</span> In doTryCatch<span class="token punctuation">(</span>return<span class="token punctuation">(</span>expr<span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> parentenv<span class="token punctuation">,</span> handler<span class="token punctuation">)</span> <span class="token operator">:</span>  invalid graphics state<span class="token number">4</span><span class="token operator">:</span> In doTryCatch<span class="token punctuation">(</span>return<span class="token punctuation">(</span>expr<span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> parentenv<span class="token punctuation">,</span> handler<span class="token punctuation">)</span> <span class="token operator">:</span>  显示串列没有完全被刷新<span class="token number">5</span><span class="token operator">:</span> In doTryCatch<span class="token punctuation">(</span>return<span class="token punctuation">(</span>expr<span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> parentenv<span class="token punctuation">,</span> handler<span class="token punctuation">)</span> <span class="token operator">:</span>  invalid graphics state<span class="token number">6</span><span class="token operator">:</span> In doTryCatch<span class="token punctuation">(</span>return<span class="token punctuation">(</span>expr<span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> parentenv<span class="token punctuation">,</span> handler<span class="token punctuation">)</span> <span class="token operator">:</span>  invalid graphics state<span class="token operator">></span> a<span class="token operator">&lt;-</span><span class="token number">2000</span><span class="token operator">:</span><span class="token number">2018</span><span class="token operator">></span> length<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">19</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在RStudio的Plots中结果出图</p><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Post/R/%E4%B8%80Rplot2.jpeg" alt=""></p><hr><h3 id="输出Plot图-有问题【悬而未决】"><a href="#输出Plot图-有问题【悬而未决】" class="headerlink" title="输出Plot图  (有问题【悬而未决】)"></a>输出Plot图  (有问题【悬而未决】)</h3><p>不能在Plots和输出文件中同时输出</p><p>如下则只能输出文件，在Plots中不能显示</p><pre class="line-numbers language-r"><code class="language-r">a<span class="token operator">&lt;-</span><span class="token number">2000</span><span class="token operator">:</span><span class="token number">2018</span>length<span class="token punctuation">(</span>a<span class="token punctuation">)</span>b<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>runif<span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">350</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>tiff<span class="token punctuation">(</span>file<span class="token operator">=</span><span class="token string">"B:/Temp1/d.tif"</span><span class="token punctuation">)</span>plot<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">"o"</span><span class="token punctuation">,</span>pch<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">,</span>bg<span class="token operator">=</span><span class="token string">"pink"</span><span class="token punctuation">,</span>cex<span class="token operator">=</span><span class="token number">1.3</span><span class="token punctuation">,</span>lty<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>lwd<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>main <span class="token operator">=</span><span class="token string">"2000-2018年历年高考报考人数"</span><span class="token punctuation">,</span>col.main<span class="token operator">=</span><span class="token string">"black"</span><span class="token punctuation">,</span> font.main<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>xlab <span class="token operator">=</span><span class="token string">"年份/年"</span><span class="token punctuation">,</span> ylab <span class="token operator">=</span> <span class="token string">"人数/万"</span><span class="token punctuation">,</span> col.lab<span class="token operator">=</span>rgb<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>font.lab<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>xlim <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span><span class="token number">2018</span><span class="token punctuation">)</span><span class="token punctuation">,</span>col<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">,</span>bty<span class="token operator">=</span><span class="token string">"l"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#tiff(file="B:/Temp1/d.tif")</span>dev.off<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>以下则只能在Plots中输出，文件中为空白图像</p><pre class="line-numbers language-r"><code class="language-r">a<span class="token operator">&lt;-</span><span class="token number">2000</span><span class="token operator">:</span><span class="token number">2018</span>length<span class="token punctuation">(</span>a<span class="token punctuation">)</span>b<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>runif<span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">350</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>plot<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">"o"</span><span class="token punctuation">,</span>pch<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">,</span>bg<span class="token operator">=</span><span class="token string">"pink"</span><span class="token punctuation">,</span>cex<span class="token operator">=</span><span class="token number">1.3</span><span class="token punctuation">,</span>lty<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>lwd<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>main <span class="token operator">=</span><span class="token string">"2000-2018年历年高考报考人数"</span><span class="token punctuation">,</span>col.main<span class="token operator">=</span><span class="token string">"black"</span><span class="token punctuation">,</span> font.main<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>xlab <span class="token operator">=</span><span class="token string">"年份/年"</span><span class="token punctuation">,</span> ylab <span class="token operator">=</span> <span class="token string">"人数/万"</span><span class="token punctuation">,</span> col.lab<span class="token operator">=</span>rgb<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>font.lab<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>xlim <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span><span class="token number">2018</span><span class="token punctuation">)</span><span class="token punctuation">,</span>col<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">,</span>bty<span class="token operator">=</span><span class="token string">"l"</span><span class="token punctuation">)</span>tiff<span class="token punctuation">(</span>file<span class="token operator">=</span><span class="token string">"B:/Temp1/d.tif"</span><span class="token punctuation">)</span>dev.off<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在前面加了dev.new()，然鹅还是不行。</p><pre class="line-numbers language-r"><code class="language-r">dev.new<span class="token punctuation">(</span><span class="token punctuation">)</span>a<span class="token operator">&lt;-</span><span class="token number">2000</span><span class="token operator">:</span><span class="token number">2018</span>length<span class="token punctuation">(</span>a<span class="token punctuation">)</span>b<span class="token operator">&lt;-</span>c<span class="token punctuation">(</span>runif<span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token number">350</span><span class="token punctuation">,</span><span class="token number">1500</span><span class="token punctuation">)</span><span class="token punctuation">)</span>tiff<span class="token punctuation">(</span>file<span class="token operator">=</span><span class="token string">"B:/Temp1/d.tif"</span><span class="token punctuation">)</span>plot<span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">"o"</span><span class="token punctuation">,</span>pch<span class="token operator">=</span><span class="token number">21</span><span class="token punctuation">,</span>bg<span class="token operator">=</span><span class="token string">"pink"</span><span class="token punctuation">,</span>cex<span class="token operator">=</span><span class="token number">1.3</span><span class="token punctuation">,</span>lty<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span>lwd<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>main <span class="token operator">=</span><span class="token string">"2000-2018年历年高考报考人数"</span><span class="token punctuation">,</span>col.main<span class="token operator">=</span><span class="token string">"black"</span><span class="token punctuation">,</span> font.main<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>xlab <span class="token operator">=</span><span class="token string">"年份/年"</span><span class="token punctuation">,</span> ylab <span class="token operator">=</span> <span class="token string">"人数/万"</span><span class="token punctuation">,</span> col.lab<span class="token operator">=</span>rgb<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>font.lab<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>xlim <span class="token operator">=</span> c<span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span><span class="token number">2018</span><span class="token punctuation">)</span><span class="token punctuation">,</span>col<span class="token operator">=</span><span class="token string">"blue"</span><span class="token punctuation">,</span>bty<span class="token operator">=</span><span class="token string">"l"</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#tiff(file="B:/Temp1/d.tif")</span>dev.off<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h4 id="seq函数七十二变"><a href="#seq函数七十二变" class="headerlink" title="seq函数七十二变"></a>seq函数七十二变</h4><ul><li><p>seq(from)</p></li><li><p>seq(from, to)</p></li><li><p>seq(from, to, by= )</p></li><li><p>seq(along.with= )</p></li><li><p>seq(length.out= )</p></li><li><p>seq(from, to, length.out= )</p></li></ul><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> seq<span class="token punctuation">(</span>from<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>to<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>seq(from)</strong></p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> seq<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span> <span class="token number">31</span><span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span> <span class="token number">32</span> <span class="token number">33</span> <span class="token number">34</span> <span class="token number">35</span> <span class="token number">36</span> <span class="token number">37</span> <span class="token number">38</span> <span class="token number">39</span> <span class="token number">40</span> <span class="token number">41</span> <span class="token number">42</span> <span class="token number">43</span> <span class="token number">44</span> <span class="token number">45</span> <span class="token number">46</span> <span class="token number">47</span> <span class="token number">48</span> <span class="token number">49</span> <span class="token number">50</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>seq(from, to)</strong></p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> seq<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span><span class="token operator">></span> seq<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">10</span>  <span class="token number">9</span>  <span class="token number">8</span>  <span class="token number">7</span>  <span class="token number">6</span>  <span class="token number">5</span>  <span class="token number">4</span>  <span class="token number">3</span>  <span class="token number">2</span>  <span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>seq(from, to, by= )</strong></p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> seq<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">1</span> <span class="token number">3</span> <span class="token number">5</span> <span class="token number">7</span> <span class="token number">9</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>seq(along.with= )</strong></p><p>along.with：表示生成的向量为现有一向量元素的索引</p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> x <span class="token operator">&lt;-</span> c<span class="token punctuation">(</span><span class="token number">1.2</span><span class="token punctuation">,</span> <span class="token number">5.2</span><span class="token punctuation">,</span> <span class="token number">6.3</span><span class="token punctuation">,</span> <span class="token number">4.6</span><span class="token punctuation">)</span><span class="token operator">></span> a<span class="token operator">&lt;-</span>seq<span class="token punctuation">(</span>along.with<span class="token operator">=</span>x<span class="token punctuation">)</span><span class="token operator">></span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>seq(length.out= )</strong></p><p>输出限定范围内的leng.out个数，</p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> seq<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>seq(from, to, length.out= )</strong></p><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> seq<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span>length.out <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#输出1-10三个数。取中间值</span>  <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token number">1.0</span>  <span class="token number">5.5</span> <span class="token number">10.0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="已知错误"><a href="#已知错误" class="headerlink" title="已知错误"></a>已知错误</h3><ol><li><p>中文路径。</p><p> 尽量不要用中文路径，中文文件名称。在Plot中，输出路径为中文路径，导致输出图片为空白</p></li><li><p>使用Plot画布无法显示，出现Error。</p><p>将画布拖大即可</p></li></ol><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> plot<span class="token punctuation">(</span>data<span class="token operator">$</span>Year<span class="token punctuation">,</span>data<span class="token operator">$</span>ZhongKao<span class="token punctuation">)</span>Error <span class="token keyword">in</span> plot.new<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> figure margins too large<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><hr><h2 id="Dataframe"><a href="#Dataframe" class="headerlink" title="Dataframe"></a>Dataframe</h2><pre class="line-numbers language-r"><code class="language-r"><span class="token operator">></span> <span class="token comment" spellcheck="true">#Dataframe-------------------------------</span><span class="token operator">></span> <span class="token comment" spellcheck="true">#Dataframe</span><span class="token operator">></span> <span class="token comment" spellcheck="true">##创建Dataframe函数</span><span class="token operator">></span> ls<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"a"</span>  <span class="token string">"df"</span> <span class="token string">"i"</span>  <span class="token string">"l"</span> <span class="token operator">></span> rm<span class="token punctuation">(</span>list <span class="token operator">=</span> ls<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">></span> ls<span class="token punctuation">(</span><span class="token punctuation">)</span>character<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">></span> library<span class="token punctuation">(</span>dplyr<span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">#载入程辑包：‘dplyr’</span><span class="token operator">></span> options<span class="token punctuation">(</span>digits <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#保留整数</span><span class="token operator">></span> set.seed<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#设置种子函数</span><span class="token operator">></span> df<span class="token operator">&lt;-</span>data.frame<span class="token punctuation">(</span>ID<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token operator">+</span>                Class<span class="token operator">=</span>rep<span class="token punctuation">(</span>c<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#对数组123，重复4遍</span><span class="token operator">+</span>                Chinese<span class="token operator">=</span>runif<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span>min <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>max <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">#runif随机产生12个0-100的数</span><span class="token operator">+</span>                Math<span class="token operator">=</span>runif<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span>min <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>max <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">+</span>                English<span class="token operator">=</span>runif<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span>min <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>max <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token operator">+</span> <span class="token punctuation">)</span><span class="token operator">></span> df  <span class="token comment" spellcheck="true">#查看Dataframe</span>   ID Class Chinese Math English<span class="token number">1</span>   <span class="token number">1</span>     <span class="token number">1</span>      <span class="token number">27</span>   <span class="token number">69</span>      <span class="token number">27</span><span class="token number">2</span>   <span class="token number">2</span>     <span class="token number">2</span>      <span class="token number">37</span>   <span class="token number">38</span>      <span class="token number">39</span><span class="token number">3</span>   <span class="token number">3</span>     <span class="token number">3</span>      <span class="token number">57</span>   <span class="token number">77</span>       <span class="token number">1</span><span class="token number">4</span>   <span class="token number">4</span>     <span class="token number">1</span>      <span class="token number">91</span>   <span class="token number">50</span>      <span class="token number">38</span><span class="token number">5</span>   <span class="token number">5</span>     <span class="token number">2</span>      <span class="token number">20</span>   <span class="token number">72</span>      <span class="token number">87</span><span class="token number">6</span>   <span class="token number">6</span>     <span class="token number">3</span>      <span class="token number">90</span>   <span class="token number">99</span>      <span class="token number">34</span><span class="token number">7</span>   <span class="token number">7</span>     <span class="token number">1</span>      <span class="token number">94</span>   <span class="token number">38</span>      <span class="token number">48</span><span class="token number">8</span>   <span class="token number">8</span>     <span class="token number">2</span>      <span class="token number">66</span>   <span class="token number">78</span>      <span class="token number">60</span><span class="token number">9</span>   <span class="token number">9</span>     <span class="token number">3</span>      <span class="token number">63</span>   <span class="token number">93</span>      <span class="token number">49</span><span class="token number">10</span> <span class="token number">10</span>     <span class="token number">1</span>       <span class="token number">6</span>   <span class="token number">21</span>      <span class="token number">19</span><span class="token number">11</span> <span class="token number">11</span>     <span class="token number">2</span>      <span class="token number">21</span>   <span class="token number">65</span>      <span class="token number">83</span><span class="token number">12</span> <span class="token number">12</span>     <span class="token number">3</span>      <span class="token number">18</span>   <span class="token number">13</span>      <span class="token number">67</span><span class="token operator">></span> <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">:</span>ncol<span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">+</span>   df<span class="token punctuation">[</span><span class="token punctuation">,</span>i<span class="token punctuation">]</span><span class="token operator">&lt;-</span>as.integer<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token punctuation">,</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#将每列变为integer类型</span><span class="token operator">+</span> <span class="token punctuation">}</span><span class="token operator">></span> df   ID Class Chinese Math English<span class="token number">1</span>   <span class="token number">1</span>     <span class="token number">1</span>      <span class="token number">26</span>   <span class="token number">68</span>      <span class="token number">26</span><span class="token number">2</span>   <span class="token number">2</span>     <span class="token number">2</span>      <span class="token number">37</span>   <span class="token number">38</span>      <span class="token number">38</span><span class="token number">3</span>   <span class="token number">3</span>     <span class="token number">3</span>      <span class="token number">57</span>   <span class="token number">76</span>       <span class="token number">1</span><span class="token number">4</span>   <span class="token number">4</span>     <span class="token number">1</span>      <span class="token number">90</span>   <span class="token number">49</span>      <span class="token number">38</span><span class="token number">5</span>   <span class="token number">5</span>     <span class="token number">2</span>      <span class="token number">20</span>   <span class="token number">71</span>      <span class="token number">86</span><span class="token number">6</span>   <span class="token number">6</span>     <span class="token number">3</span>      <span class="token number">89</span>   <span class="token number">99</span>      <span class="token number">34</span><span class="token number">7</span>   <span class="token number">7</span>     <span class="token number">1</span>      <span class="token number">94</span>   <span class="token number">38</span>      <span class="token number">48</span><span class="token number">8</span>   <span class="token number">8</span>     <span class="token number">2</span>      <span class="token number">66</span>   <span class="token number">77</span>      <span class="token number">59</span><span class="token number">9</span>   <span class="token number">9</span>     <span class="token number">3</span>      <span class="token number">62</span>   <span class="token number">93</span>      <span class="token number">49</span><span class="token number">10</span> <span class="token number">10</span>     <span class="token number">1</span>       <span class="token number">6</span>   <span class="token number">21</span>      <span class="token number">18</span><span class="token number">11</span> <span class="token number">11</span>     <span class="token number">2</span>      <span class="token number">20</span>   <span class="token number">65</span>      <span class="token number">82</span><span class="token number">12</span> <span class="token number">12</span>     <span class="token number">3</span>      <span class="token number">17</span>   <span class="token number">12</span>      <span class="token number">66</span><span class="token operator">></span> ncol<span class="token punctuation">(</span>df<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#查询行数</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">5</span><span class="token operator">></span> <span class="token operator">></span> l<span class="token operator">=</span><span class="token number">2.3</span><span class="token operator">></span> as.integer<span class="token punctuation">(</span>l<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#转化为整型</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">2</span><span class="token operator">></span> <span class="token operator">></span> <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">:</span>ncol<span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">#将每一行输出</span><span class="token operator">+</span>   print<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token punctuation">,</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">+</span> <span class="token punctuation">}</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">26</span> <span class="token number">37</span> <span class="token number">57</span> <span class="token number">90</span> <span class="token number">20</span> <span class="token number">89</span> <span class="token number">94</span> <span class="token number">66</span> <span class="token number">62</span>  <span class="token number">6</span> <span class="token number">20</span> <span class="token number">17</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">68</span> <span class="token number">38</span> <span class="token number">76</span> <span class="token number">49</span> <span class="token number">71</span> <span class="token number">99</span> <span class="token number">38</span> <span class="token number">77</span> <span class="token number">93</span> <span class="token number">21</span> <span class="token number">65</span> <span class="token number">12</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">26</span> <span class="token number">38</span>  <span class="token number">1</span> <span class="token number">38</span> <span class="token number">86</span> <span class="token number">34</span> <span class="token number">48</span> <span class="token number">59</span> <span class="token number">49</span> <span class="token number">18</span> <span class="token number">82</span> <span class="token number">66</span><span class="token operator">></span> <span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">##花式查询</span><span class="token operator">></span> df<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">#第二行</span>  ID Class Chinese Math English<span class="token number">2</span>  <span class="token number">2</span>     <span class="token number">2</span>      <span class="token number">37</span>   <span class="token number">38</span>      <span class="token number">38</span><span class="token operator">></span> df<span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">#第四列</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">68</span> <span class="token number">38</span> <span class="token number">76</span> <span class="token number">49</span> <span class="token number">71</span> <span class="token number">99</span> <span class="token number">38</span> <span class="token number">77</span> <span class="token number">93</span> <span class="token number">21</span> <span class="token number">65</span> <span class="token number">12</span><span class="token operator">></span> df<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'Math'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">76</span><span class="token operator">></span> df<span class="token operator">$</span>Math<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">76</span><span class="token operator">></span> <span class="token operator">></span> df<span class="token operator">$</span>Chinese  <span class="token comment" spellcheck="true">#Chinese这一列</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">26</span> <span class="token number">37</span> <span class="token number">57</span> <span class="token number">90</span> <span class="token number">20</span> <span class="token number">89</span> <span class="token number">94</span> <span class="token number">66</span> <span class="token number">62</span>  <span class="token number">6</span> <span class="token number">20</span> <span class="token number">17</span><span class="token operator">></span> df<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">#第三列，(也是Chinese这一列)，会有表头输出</span>   Chinese<span class="token number">1</span>       <span class="token number">26</span><span class="token number">2</span>       <span class="token number">37</span><span class="token number">3</span>       <span class="token number">57</span><span class="token number">4</span>       <span class="token number">90</span><span class="token number">5</span>       <span class="token number">20</span><span class="token number">6</span>       <span class="token number">89</span><span class="token number">7</span>       <span class="token number">94</span><span class="token number">8</span>       <span class="token number">66</span><span class="token number">9</span>       <span class="token number">62</span><span class="token number">10</span>       <span class="token number">6</span><span class="token number">11</span>      <span class="token number">20</span><span class="token number">12</span>      <span class="token number">17</span><span class="token operator">></span> <span class="token operator">></span> typeof<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#查看数值类型</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"integer"</span><span class="token operator">></span> class<span class="token punctuation">(</span>df<span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">#变量类型</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token string">"data.frame"</span><span class="token operator">></span> <span class="token operator">></span> nrow<span class="token punctuation">(</span>df<span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">#行数</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">12</span><span class="token operator">></span> ncol<span class="token punctuation">(</span>df<span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">#列数</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">5</span><span class="token operator">></span> a<span class="token operator">=</span><span class="token number">1</span><span class="token operator">:</span><span class="token number">5</span><span class="token operator">></span> a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span><span class="token operator">></span> length<span class="token punctuation">(</span>a<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#长度</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">5</span><span class="token operator">></span> <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">1</span><span class="token operator">:</span>length<span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">+</span>   print<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">+</span> <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">1</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">2</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">3</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">4</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">5</span><span class="token operator">></span> <span class="token operator">></span> <span class="token comment" spellcheck="true">#which语句，查找符合条件的行</span><span class="token operator">></span> df   ID Class Chinese Math English<span class="token number">1</span>   <span class="token number">1</span>     <span class="token number">1</span>      <span class="token number">26</span>   <span class="token number">68</span>      <span class="token number">26</span><span class="token number">2</span>   <span class="token number">2</span>     <span class="token number">2</span>      <span class="token number">37</span>   <span class="token number">38</span>      <span class="token number">38</span><span class="token number">3</span>   <span class="token number">3</span>     <span class="token number">3</span>      <span class="token number">57</span>   <span class="token number">76</span>       <span class="token number">1</span><span class="token number">4</span>   <span class="token number">4</span>     <span class="token number">1</span>      <span class="token number">90</span>   <span class="token number">49</span>      <span class="token number">38</span><span class="token number">5</span>   <span class="token number">5</span>     <span class="token number">2</span>      <span class="token number">20</span>   <span class="token number">71</span>      <span class="token number">86</span><span class="token number">6</span>   <span class="token number">6</span>     <span class="token number">3</span>      <span class="token number">89</span>   <span class="token number">99</span>      <span class="token number">34</span><span class="token number">7</span>   <span class="token number">7</span>     <span class="token number">1</span>      <span class="token number">94</span>   <span class="token number">38</span>      <span class="token number">48</span><span class="token number">8</span>   <span class="token number">8</span>     <span class="token number">2</span>      <span class="token number">66</span>   <span class="token number">77</span>      <span class="token number">59</span><span class="token number">9</span>   <span class="token number">9</span>     <span class="token number">3</span>      <span class="token number">62</span>   <span class="token number">93</span>      <span class="token number">49</span><span class="token number">10</span> <span class="token number">10</span>     <span class="token number">1</span>       <span class="token number">6</span>   <span class="token number">21</span>      <span class="token number">18</span><span class="token number">11</span> <span class="token number">11</span>     <span class="token number">2</span>      <span class="token number">20</span>   <span class="token number">65</span>      <span class="token number">82</span><span class="token number">12</span> <span class="token number">12</span>     <span class="token number">3</span>      <span class="token number">17</span>   <span class="token number">12</span>      <span class="token number">66</span><span class="token operator">></span> df<span class="token punctuation">[</span>which<span class="token punctuation">(</span>df<span class="token operator">$</span>ID<span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">]</span>  ID Class Chinese Math English<span class="token number">4</span>  <span class="token number">4</span>     <span class="token number">1</span>      <span class="token number">90</span>   <span class="token number">49</span>      <span class="token number">38</span><span class="token operator">></span> df<span class="token punctuation">[</span>which<span class="token punctuation">(</span>df<span class="token operator">$</span>Chinese<span class="token operator">>=</span><span class="token number">57</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'ID'</span><span class="token punctuation">]</span>   <span class="token comment" spellcheck="true">#查询Chinese>=57的ID是多少</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="更改R包默认安装路径-未试"><a href="#更改R包默认安装路径-未试" class="headerlink" title="更改R包默认安装路径(未试)"></a>更改R包默认安装路径(未试)</h3><p>#新建一个初始启动文件<br>file.edit(’~/.Rprofile’)</p><p>#更改R包默认安装路径<br>.libPaths(“D:/Program Files/R/win-library/3.5”)<br>myPaths &lt;- c(“D:/Program Files/R/win-library/3.5”)<br>.libPaths(myPaths)</p><p>然后把代码复制到初始文件.Rprofile中。<br>重启R，即可。</p><hr><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> R </category>
          
      </categories>
      
      
        <tags>
            
            <tag> R </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHub使用小技巧</title>
      <link href="/2020/02/14/github-shi-yong-xiao-ji-qiao/"/>
      <url>/2020/02/14/github-shi-yong-xiao-ji-qiao/</url>
      
        <content type="html"><![CDATA[<h1 id="GitHub小技巧"><a href="#GitHub小技巧" class="headerlink" title="GitHub小技巧"></a>GitHub小技巧</h1><h2 id="README-md"><a href="#README-md" class="headerlink" title="README.md"></a>README.md</h2><p>想在README.md里面插入项目的截图,<br>插入图片的关键就是知道README.md的链接规则,当在README.md中插入链接时可以插入相对路径,这是通用的适用于所有链接<br>例如:<br> <code>![图片](a.png)</code>:显示项目中的 /a.png</p><p><code>![图片b](/screenshots/b.png)</code>显示项目中的 /screenshots/b.png </p><p>“<a href=""></a>“ :”[]”中为名称，‘“()”中为链接地址。显示一个链接到其他地址的链接</p><h2 id="GitHub搜索"><a href="#GitHub搜索" class="headerlink" title="GitHub搜索"></a>GitHub搜索</h2><ol><li><p>搜索名字中带着spring boot，stars数超过3000的仓库</p><pre><code> in:name spring boot stars:&gt;3000</code></pre></li><li><p>搜索名字中带着spring boot，stars数超过3000，forks数超过300的仓库</p><pre><code> in:name spring boot stars:&gt;3000 forks:&gt;300</code></pre></li><li><p>搜索readme中带spring boot的仓库</p><pre><code> in:readme spring boot</code></pre></li><li><p>搜索描述中带有“微服务”关键词，语言为Java，pushed，最新日期要在2019-09-10之后</p><pre><code> in:description 微服务 language:java pushed:&gt;2019-09-10</code></pre></li></ol><h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><h3 id="1-添加提交"><a href="#1-添加提交" class="headerlink" title="1. 添加提交"></a>1. 添加提交</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> init<span class="token function">git</span> remote add origin 你新建仓库的HTTP或者SSH地址链接<span class="token function">git</span> pull origin master <span class="token comment" spellcheck="true">#将仓库拉取到本地文件夹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> add <span class="token keyword">.</span>    <span class="token comment" spellcheck="true">#(.表示所有的)</span><span class="token function">git</span> commit -m <span class="token string">'添加文件内容描述'</span> <span class="token function">git</span> push origin master   <span class="token comment" spellcheck="true">#将本地仓库文件推送到GitHub新建的仓库</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="2-添加远程关联仓库"><a href="#2-添加远程关联仓库" class="headerlink" title="2. 添加远程关联仓库"></a>2. 添加远程关联仓库</h3><pre class="line-numbers language-csharp"><code class="language-csharp">$ git remote <span class="token keyword">add</span> origin https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>guanpengchn<span class="token operator">/</span>demo<span class="token punctuation">.</span>git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-查看远程关联"><a href="#3-查看远程关联" class="headerlink" title="3. 查看远程关联"></a>3. 查看远程关联</h3><pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">git</span> remote -vorigin  https://github.com/guanpengchn/demo.git <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>origin  https://github.com/guanpengchn/demo.git <span class="token punctuation">(</span>push<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> GitHub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python爬虫</title>
      <link href="/2020/02/08/beautifulsoup-ku/"/>
      <url>/2020/02/08/beautifulsoup-ku/</url>
      
        <content type="html"><![CDATA[<h2 id="BeautifulSoup库"><a href="#BeautifulSoup库" class="headerlink" title="BeautifulSoup库"></a>BeautifulSoup库</h2><p>BeautifulSoup库是解析、遍历、维护“标签树”的功能库</p><p><strong>准备食材~html</strong></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token operator">>></span><span class="token operator">></span>r<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://python123.io/ws/demo.html"</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span>r<span class="token punctuation">.</span>text<span class="token string">'&lt;html>&lt;head>&lt;title>This is a python demo page&lt;/title>&lt;/head>\r\n&lt;body>\r\n&lt;p class="title">&lt;b>The demo python introduces several python courses.&lt;/b>&lt;/p>\r\n&lt;p class="course">Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:\r\n&lt;a href="http://www.icourse163.org/course/BIT-268001" class="py1" id="link1">Basic Python&lt;/a> and &lt;a href="http://www.icourse163.org/course/BIT-1001870001" class="py2" id="link2">Advanced Python&lt;/a>.&lt;/p>\r\n&lt;/body>&lt;/html>'</span><span class="token operator">>></span><span class="token operator">></span>demo<span class="token operator">=</span>r<span class="token punctuation">.</span>text<span class="token operator">>></span><span class="token operator">></span><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup<span class="token operator">>></span><span class="token operator">></span>soup<span class="token operator">=</span>BeautifulSoup<span class="token punctuation">(</span>demo<span class="token punctuation">,</span><span class="token string">"html.parser"</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#"html.parser"是解析器的一种</span><span class="token operator">>></span><span class="token operator">></span><span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>prettify<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">##将html打印</span><span class="token operator">&lt;</span>bound method Tag<span class="token punctuation">.</span>prettify of <span class="token operator">&lt;</span>html<span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span><span class="token operator">&lt;</span>title<span class="token operator">></span>This <span class="token keyword">is</span> a python demo page<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span><span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">></span><span class="token operator">&lt;</span>b<span class="token operator">></span>The demo python introduces several python courses<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"course"</span><span class="token operator">></span>Python <span class="token keyword">is</span> a wonderful general<span class="token operator">-</span>purpose programming language<span class="token punctuation">.</span> You can learn Python <span class="token keyword">from</span> novice to professional by tracking the following courses<span class="token punctuation">:</span><span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span> <span class="token operator">and</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py2"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-1001870001"</span> id<span class="token operator">=</span><span class="token string">"link2"</span><span class="token operator">></span>Advanced Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">>></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>print(soup.prettify())就像是把食材整齐得放在案板上，看看食材都有哪些</p><h3 id="BeautifulSoup类"><a href="#BeautifulSoup类" class="headerlink" title="BeautifulSoup类"></a>BeautifulSoup类</h3><p>BeautifulSoup类原理</p><p>也就是BeautifulSoup类对应一个html/xml文档的全部内容</p><p>$$<br>html文档=标签树=BeautifulSoup类<br>$$</p><p>三者是等价的。</p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoupsoup<span class="token operator">=</span>BeautifulSoup<span class="token punctuation">(</span><span class="token string">"&lt;html>data&lt;/html>"</span><span class="token punctuation">,</span><span class="token string">"html.parser"</span><span class="token punctuation">)</span>soup2<span class="token operator">=</span>BeautifulSoup<span class="token punctuation">(</span>open<span class="token punctuation">(</span><span class="token string">"D://demo.html"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"html.parser"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><hr><h3 id="BeautifulSoup库的参数——解析器"><a href="#BeautifulSoup库的参数——解析器" class="headerlink" title="BeautifulSoup库的参数——解析器"></a>BeautifulSoup库的参数——解析器</h3><p><strong>准备怎么做</strong></p><p>一共四种解析</p><table><thead><tr><th align="center">解析器</th><th align="center">使用方法</th><th align="center">条件</th></tr></thead><tbody><tr><td align="center">bs4的HTML解析器</td><td align="center">BeautifulSoup(mk,”html.parser”)</td><td align="center">安装bs4库</td></tr><tr><td align="center">lxml的HTML解析器</td><td align="center">BeautifulSoup(mk,”lxml”)</td><td align="center">pip install lxml</td></tr><tr><td align="center">lxml的XML解析器</td><td align="center">BeautifulSoup(mk,”xml”)</td><td align="center">pip install lxml</td></tr><tr><td align="center">html5lib的HTML解析器</td><td align="center">BeautifulSoup(mk,”html5lib”)</td><td align="center">pip install html5lib</td></tr></tbody></table><h3 id="BeautifulSoup库的基本元素"><a href="#BeautifulSoup库的基本元素" class="headerlink" title="BeautifulSoup库的基本元素"></a>BeautifulSoup库的基本元素</h3><table><thead><tr><th>基本元素</th><th>说明使用</th></tr></thead><tbody><tr><td>Tag标签</td><td>标签  格式 ：.<tag></tag></td></tr><tr><td>Name标签的名字</td><td>标签名字，格式  ：.name</td></tr><tr><td>Attributes标签的属性</td><td>标签属性，格式  :   .attrs</td></tr><tr><td>NavigableString标签内非属性的字符串</td><td>标签非属性字符串，格式： .string</td></tr><tr><td>comment标签内字符串的注释部分</td><td>注释部分，格式： .string</td></tr></tbody></table><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> requests<span class="token operator">>></span><span class="token operator">></span> r<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://python123.io/ws/demo.html"</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> r<span class="token punctuation">.</span>text<span class="token string">'&lt;html>&lt;head>&lt;title>This is a python demo page&lt;/title>&lt;/head>\r\n&lt;body>\r\n&lt;p class="title">&lt;b>The demo python introduces several python courses.&lt;/b>&lt;/p>\r\n&lt;p class="course">Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:\r\n&lt;a href="http://www.icourse163.org/course/BIT-268001" class="py1" id="link1">Basic Python&lt;/a> and &lt;a href="http://www.icourse163.org/course/BIT-1001870001" class="py2" id="link2">Advanced Python&lt;/a>.&lt;/p>\r\n&lt;/body>&lt;/html>'</span><span class="token operator">>></span><span class="token operator">></span> demo<span class="token operator">=</span>r<span class="token punctuation">.</span>text<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeatuifulSoup<span class="token operator">>></span><span class="token operator">></span> soup<span class="token operator">=</span>BeautifulSoup<span class="token punctuation">(</span>demo<span class="token punctuation">,</span><span class="token string">"html.parser"</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>title    <span class="token comment" spellcheck="true">#title标签</span><span class="token operator">&lt;</span>title<span class="token operator">></span>This <span class="token keyword">is</span> a python demo page<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> tag<span class="token operator">=</span>soup<span class="token punctuation">.</span>a    <span class="token comment" spellcheck="true">#返回第一个a标签</span><span class="token operator">>></span><span class="token operator">></span> tag    <span class="token comment" spellcheck="true">#只会返回第一个a标签</span><span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>这锅汤，有食材，有柴火，demo就像是食材，html.parser就像是做这食材的柴火和作法。</p><p>开始煲汤~</p><pre class="line-numbers language-python"><code class="language-python">soup<span class="token operator">=</span>BeautifulSoup<span class="token punctuation">(</span>demo<span class="token punctuation">,</span><span class="token string">"html.parser"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>来尝尝这锅汤怎么样</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>name<span class="token string">'a'</span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>name<span class="token string">'p'</span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>name<span class="token string">'body'</span><span class="token operator">>></span><span class="token operator">></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>解析标签属性</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> tag<span class="token operator">=</span>soup<span class="token punctuation">.</span>a <span class="token comment" spellcheck="true">#返回第一个a标签</span><span class="token operator">>></span><span class="token operator">></span> tag <span class="token comment" spellcheck="true">#只会返回第一个a标签</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> tag<span class="token punctuation">.</span>attrs    <span class="token comment" spellcheck="true">##以字典返回，可以字典的方式来进行信息提取</span><span class="token punctuation">{</span><span class="token string">'href'</span><span class="token punctuation">:</span> <span class="token string">'http://www.icourse163.org/course/BIT-268001'</span><span class="token punctuation">,</span> <span class="token string">'class'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'py1'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'id'</span><span class="token punctuation">:</span> <span class="token string">'link1'</span><span class="token punctuation">}</span><span class="token operator">>></span><span class="token operator">></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>提取属性中的信息</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> tag<span class="token punctuation">.</span>attrs<span class="token punctuation">[</span><span class="token string">'class'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'py1'</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> tag<span class="token punctuation">.</span>attrs<span class="token punctuation">[</span><span class="token string">'href'</span><span class="token punctuation">]</span><span class="token string">'http://www.icourse163.org/course/BIT-268001'</span><span class="token comment" spellcheck="true">##查看tag标签属性的类型</span><span class="token operator">>></span><span class="token operator">></span> type<span class="token punctuation">(</span>tag<span class="token punctuation">.</span>attrs<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'dict'</span><span class="token operator">></span>    <span class="token comment" spellcheck="true">#字典类型</span><span class="token comment" spellcheck="true">#注意：无论有无属性、总能获得一个字典。若无，则返回一个空字典。</span><span class="token comment" spellcheck="true">#标签的类型 </span><span class="token operator">>></span><span class="token operator">></span> type<span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'bs4.element.Tag'</span><span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="NavigableString-（string）"><a href="#NavigableString-（string）" class="headerlink" title="NavigableString  （string）"></a>NavigableString  （string）</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>a<span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>string<span class="token string">'Basic Python'</span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>p<span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">></span><span class="token operator">&lt;</span>b<span class="token operator">></span>The demo python introduces several python courses<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>p<span class="token punctuation">.</span>string<span class="token string">'The demo python introduces several python courses.'</span><span class="token operator">>></span><span class="token operator">></span> type<span class="token punctuation">(</span>soup<span class="token punctuation">.</span>p<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'bs4.element.NavigableString'</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>注意：p标签中还包含b标签，说明NavigableString是可以跨越多个标签的</strong></p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> newsoup<span class="token operator">=</span>BeautifulSoup<span class="token punctuation">(</span><span class="token string">"&lt;b>&lt;!--这是comment-->&lt;/b>&lt;&lt;p>这不是一个comment&lt;/p>"</span><span class="token punctuation">,</span><span class="token string">"html.parser"</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> newsoup<span class="token punctuation">.</span>b<span class="token punctuation">.</span>string    <span class="token comment" spellcheck="true">#其注释被去掉了</span><span class="token string">'这是comment'</span><span class="token operator">>></span><span class="token operator">></span> type<span class="token punctuation">(</span>newsoup<span class="token punctuation">.</span>b<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'bs4.element.Comment'</span><span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> newsoup<span class="token punctuation">.</span>p<span class="token punctuation">.</span>string<span class="token string">'这不是一个comment'</span><span class="token operator">>></span><span class="token operator">></span> type<span class="token punctuation">(</span>newsoup<span class="token punctuation">.</span>p<span class="token punctuation">.</span>string<span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token string">'bs4.element.NavigableString'</span><span class="token operator">></span><span class="token comment" spellcheck="true">##所以要根据类型来判断</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="HTML的遍历"><a href="#HTML的遍历" class="headerlink" title="HTML的遍历"></a>HTML的遍历</h2><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Pyhton/Beautiful/soup2020-02-08-17-00-02-image.png" alt=""></p><h3 id="下行遍历"><a href="#下行遍历" class="headerlink" title="下行遍历"></a>下行遍历</h3><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Pyhton/Beautiful/soup2020-02-08-17-06-00-image.png" alt=""></p><p><strong>contents返回的是列表类型，而后两个返回的是迭代类型，只能用在循环中</strong></p><p><strong>PS：descendants会遍历该节点的所有子孙节点，其他俩则只遍历其下儿子节点</strong></p><p>下行遍历示例</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>head<span class="token operator">&lt;</span>head<span class="token operator">></span><span class="token operator">&lt;</span>title<span class="token operator">></span>This <span class="token keyword">is</span> a python demo page<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>head<span class="token punctuation">.</span>contents    <span class="token comment" spellcheck="true">##返回列表格式，可以列表格式解析。</span><span class="token punctuation">[</span><span class="token operator">&lt;</span>title<span class="token operator">></span>This <span class="token keyword">is</span> a python demo page<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>body<span class="token punctuation">.</span>contents<span class="token punctuation">[</span><span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">></span><span class="token operator">&lt;</span>b<span class="token operator">></span>The demo python introduces several python courses<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"course"</span><span class="token operator">></span>Python <span class="token keyword">is</span> a wonderful general<span class="token operator">-</span>purpose programming language<span class="token punctuation">.</span> You can learn Python <span class="token keyword">from</span> novice to professional by tracking the following courses<span class="token punctuation">:</span><span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span> <span class="token operator">and</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py2"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-1001870001"</span> id<span class="token operator">=</span><span class="token string">"link2"</span><span class="token operator">></span>Advanced Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token punctuation">,</span> <span class="token string">'\n'</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> len<span class="token punctuation">(</span>soup<span class="token punctuation">.</span>body<span class="token punctuation">.</span>contents<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">##有五个儿子节点</span><span class="token number">5</span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>body<span class="token punctuation">.</span>contents<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true">##检索第二个儿子节点</span><span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">></span><span class="token operator">&lt;</span>b<span class="token operator">></span>The demo python introduces several python courses<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>body<span class="token punctuation">.</span>contents<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token string">'\n'</span><span class="token comment" spellcheck="true">##\n 代表回车</span><span class="token comment" spellcheck="true">##说明，对于一个标签的儿子节点，不仅包括标签节点，也包括字符串节点。\n也是其一个节点。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>遍历儿子节点</strong></p><p>可先查看其结构</p><pre class="line-numbers language-html"><code class="language-html">>>> print(soup.body.prettify())<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">></span></span>   The demo python introduces several python courses.  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>course<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>py1<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.icourse163.org/course/BIT-268001<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   Basic Python  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>  and  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>py2<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.icourse163.org/course/BIT-1001870001<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   Advanced Python  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>  . <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">for</span> child <span class="token keyword">in</span> soup<span class="token punctuation">.</span>body<span class="token punctuation">.</span>children<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">></span><span class="token operator">&lt;</span>b<span class="token operator">></span>The demo python introduces several python courses<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"course"</span><span class="token operator">></span>Python <span class="token keyword">is</span> a wonderful general<span class="token operator">-</span>purpose programming language<span class="token punctuation">.</span> You can learn Python <span class="token keyword">from</span> novice to professional by tracking the following courses<span class="token punctuation">:</span><span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span> <span class="token operator">and</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py2"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-1001870001"</span> id<span class="token operator">=</span><span class="token string">"link2"</span><span class="token operator">></span>Advanced Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="上行遍历"><a href="#上行遍历" class="headerlink" title="上行遍历"></a>上行遍历</h3><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Pyhton/Beautiful/soup2020-02-08-17-26-48-image.png" alt=""></p><p>上行遍历示例</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>title<span class="token punctuation">.</span>parent<span class="token operator">&lt;</span>head<span class="token operator">></span><span class="token operator">&lt;</span>title<span class="token operator">></span>This <span class="token keyword">is</span> a python demo page<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>html<span class="token punctuation">.</span>parent    <span class="token comment" spellcheck="true">##html标签的父亲就是它自己本身</span><span class="token operator">&lt;</span>html<span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span><span class="token operator">&lt;</span>title<span class="token operator">></span>This <span class="token keyword">is</span> a python demo page<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span><span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">></span><span class="token operator">&lt;</span>b<span class="token operator">></span>The demo python introduces several python courses<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"course"</span><span class="token operator">></span>Python <span class="token keyword">is</span> a wonderful general<span class="token operator">-</span>purpose programming language<span class="token punctuation">.</span> You can learn Python <span class="token keyword">from</span> novice to professional by tracking the following courses<span class="token punctuation">:</span><span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span> <span class="token operator">and</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py2"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-1001870001"</span> id<span class="token operator">=</span><span class="token string">"link2"</span><span class="token operator">></span>Advanced Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>parent    <span class="token comment" spellcheck="true">##soup无父亲，没有显示</span><span class="token operator">>></span><span class="token operator">></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>遍历上行所有的名字</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>parent<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">for</span> parent <span class="token keyword">in</span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>parents<span class="token punctuation">:</span>   <span class="token comment" spellcheck="true">##能够对soup的a标签所有的先辈的名字进行打印</span>    <span class="token keyword">if</span> parent <span class="token keyword">is</span> None<span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">##soup本身的parent先辈不存在，所以做判断，是否为空。</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span>name<span class="token punctuation">)</span>pbodyhtml<span class="token punctuation">[</span>document<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="平行遍历"><a href="#平行遍历" class="headerlink" title="平行遍历"></a>平行遍历</h3><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Pyhton/Beautiful/soup2020-02-08-17-36-22-image.png" alt=""></p><p>平行遍历是发生在同一个父节点下的各节点间</p><p><img src="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/banner/5-160914192R0-50.gif" data-original="https://cdn.jsdelivr.net/gh/ShiYuLi0/PictureBolg/source/Pyhton/Beautiful/soup2020-02-08-17-39-03-image.png" alt=""></p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>next_sibling   <span class="token string">' and '</span>     <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>NavigableString也是节点，所以一个节点的上下平行游不一定都是标签，所以有时候需要做类型判断</strong></p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>next_sibling<span class="token punctuation">.</span>next_sibling  <span class="token comment" spellcheck="true">##a标签的下一个标签的下一个标签</span><span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py2"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-1001870001"</span> id<span class="token operator">=</span><span class="token string">"link2"</span><span class="token operator">></span>Advanced Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>previous_sibling<span class="token string">'Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:\r\n'</span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>previous_sibling<span class="token punctuation">.</span>previous_silbingTraceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span> File <span class="token string">"&lt;pyshell#60>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>previous_sibling<span class="token punctuation">.</span>previous_silbing File <span class="token string">"C:\Users\YU\AppData\Local\Programs\Python\Python37-32\lib\site-packages\bs4\element.py"</span><span class="token punctuation">,</span> line <span class="token number">742</span><span class="token punctuation">,</span> <span class="token keyword">in</span> __getattr__ self<span class="token punctuation">.</span>__class__<span class="token punctuation">.</span>__name__<span class="token punctuation">,</span> attr<span class="token punctuation">)</span><span class="token punctuation">)</span>AttributeError<span class="token punctuation">:</span> <span class="token string">'NavigableString'</span> object has no attribute <span class="token string">'previous_silbing'</span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>previous_sibling<span class="token punctuation">.</span>previous_sibling<span class="token operator">>></span><span class="token operator">></span> <span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>parent<span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"course"</span><span class="token operator">></span>Python <span class="token keyword">is</span> a wonderful general<span class="token operator">-</span>purpose programming language<span class="token punctuation">.</span> You can learn Python <span class="token keyword">from</span> novice to professional by tracking the following courses<span class="token punctuation">:</span><span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span> <span class="token operator">and</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py2"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-1001870001"</span> id<span class="token operator">=</span><span class="token string">"link2"</span><span class="token operator">></span>Advanced Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>遍历前后续节点</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">for</span> sibling <span class="token keyword">in</span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>next_siblings<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>sibling<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#遍历后续节点</span> <span class="token operator">and</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py2"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-1001870001"</span> id<span class="token operator">=</span><span class="token string">"link2"</span><span class="token operator">></span>Advanced Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">.</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">for</span> sibling <span class="token keyword">in</span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>previous_siblings<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>sibling<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#遍历前续节点</span>Python <span class="token keyword">is</span> a wonderful general<span class="token operator">-</span>purpose programming language<span class="token punctuation">.</span> You can learn Python <span class="token keyword">from</span> novice to professional by tracking the following courses<span class="token punctuation">:</span><span class="token operator">>></span><span class="token operator">></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="基于bs4库的html格式输出"><a href="#基于bs4库的html格式输出" class="headerlink" title="基于bs4库的html格式输出"></a>基于bs4库的html格式输出</h2><h3 id="prettify"><a href="#prettify" class="headerlink" title="prettify()"></a>prettify()</h3><ul><li>为整个html标签后增加换行符：/n。目的是使得html更“友好”</li></ul><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>prettify<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#整个html的标签增加了换行符</span><span class="token string">'&lt;html>\n &lt;head>\n  &lt;title>\n   This is a python demo page\n  &lt;/title>\n &lt;/head>\n &lt;body>\n  &lt;p class="title">\n   &lt;b>\n    The demo python introduces several python courses.\n   &lt;/b>\n  &lt;/p>\n  &lt;p class="course">\n   Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:\n   &lt;a class="py1" href="http://www.icourse163.org/course/BIT-268001" id="link1">\n    Basic Python\n   &lt;/a>\n   and\n   &lt;a class="py2" href="http://www.icourse163.org/course/BIT-1001870001" id="link2">\n    Advanced Python\n   &lt;/a>\n   .\n  &lt;/p>\n &lt;/body>\n&lt;/html>'</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>prettify<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">#用print打印出来</span><span class="token operator">&lt;</span>html<span class="token operator">></span> <span class="token operator">&lt;</span>head<span class="token operator">></span>  <span class="token operator">&lt;</span>title<span class="token operator">></span>   This <span class="token keyword">is</span> a python demo page  <span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span> <span class="token operator">&lt;</span>body<span class="token operator">></span>  <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">></span>   <span class="token operator">&lt;</span>b<span class="token operator">></span>    The demo python introduces several python courses<span class="token punctuation">.</span>   <span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span>  <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span>  <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"course"</span><span class="token operator">></span>   Python <span class="token keyword">is</span> a wonderful general<span class="token operator">-</span>purpose programming language<span class="token punctuation">.</span> You can learn Python <span class="token keyword">from</span> novice to professional by tracking the following courses<span class="token punctuation">:</span>   <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>    Basic Python   <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>   <span class="token operator">and</span>   <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py2"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-1001870001"</span> id<span class="token operator">=</span><span class="token string">"link2"</span><span class="token operator">></span>    Advanced Python   <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>   <span class="token punctuation">.</span>  <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>也可以单独对一个标签进行“美化”⭐</li></ul><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>a   <span class="token comment" spellcheck="true">#原来长这样</span><span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>prettify<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">#后来长这样了，美丽者也！</span><span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span> Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="编码问题"><a href="#编码问题" class="headerlink" title="编码问题"></a>编码问题</h3><p>bs4中将html转换为UTF-8格式的编码，支持中文，python3.0也支持中文，而用python2.0则需要对编码进行转换。</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> soup0<span class="token operator">=</span>BeautifulSoup<span class="token punctuation">(</span><span class="token string">"&lt;p>中文&lt;/p>"</span><span class="token punctuation">,</span><span class="token string">"html.parser"</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> soup0<span class="token punctuation">.</span>p<span class="token punctuation">.</span>string<span class="token string">'中文'</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">print</span><span class="token punctuation">(</span>soup0<span class="token punctuation">.</span>p<span class="token punctuation">.</span>prettify<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&lt;</span>p<span class="token operator">></span> 中文<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><ol><li>bs4库的基本元素</li></ol><p>Tag、Name、Attributes、NavigateString、Comment</p><ol start="2"><li>bs4库的遍历功能</li></ol><p><strong>下行遍历</strong></p><p>.contents</p><p>.children</p><p>.descendants</p><p><strong>上行遍历</strong></p><p>.parent</p><p>.parents</p><p><strong>平行遍历</strong></p><p>.next_sibling</p><p>.previous_sibling</p><p>.next_siblings</p><p>.previous_siblings</p><h2 id="信息标记"><a href="#信息标记" class="headerlink" title="信息标记"></a>信息标记</h2><p>国际公认的一般信息标记形式</p><h3 id="XML、JSON、YAML"><a href="#XML、JSON、YAML" class="headerlink" title="XML、JSON、YAML"></a><strong>XML、JSON、YAML</strong></h3><ul><li>XML</li></ul><p>XML是基于html发展来的通用表达形式。通过标签内容表达信息。</p><ul><li>JSON</li></ul><p><strong>有类型的键值对</strong>，key:value。好处是可直接在JavaScript中使用</p><pre class="line-numbers language-json"><code class="language-json">“key”<span class="token operator">:</span>“value”“key”<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">"value1"</span><span class="token punctuation">,</span><span class="token string">"value2"</span><span class="token punctuation">]</span><span class="token property">"key"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">"subkey"</span><span class="token punctuation">,</span><span class="token string">"subvalue"</span><span class="token punctuation">}</span><span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"李世昱"</span>“age”<span class="token operator">:</span><span class="token number">23</span>     //这是有类型的<span class="token string">"lishiyu"</span>：<span class="token punctuation">[</span><span class="token string">"李世昱"</span>，<span class="token number">23</span><span class="token punctuation">]</span>“names”：<span class="token punctuation">{</span>    “websitename”<span class="token operator">:</span>“lishiyu.vip”<span class="token punctuation">,</span>    <span class="token property">"realname"</span><span class="token operator">:</span><span class="token string">"李世昱"</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>YAML</li></ul><p>无类型的键值对，key:value</p><ul><li><p>没有双引号</p></li><li><p>通过缩进的形式表达所属关系</p></li><li><p>“-“表达并列关系</p><pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">name</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span>李世昱    <span class="token punctuation">-</span>张**<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p>用”|“表示整块数据，用”#“注释</p></li><li><p>键值对之间可以嵌套</p></li></ul><h3 id="三种比较"><a href="#三种比较" class="headerlink" title="三种比较"></a>三种比较</h3><p>XML最早的通用信息标记语言，可扩展性好，但繁琐。一般应用于Internation 信息交互传递</p><p>JSON信息有类型，适合程序处理，较XML简洁。一般程序接口处理应用。</p><p>YAML信息无类型，文本信息比例最高，可读性好。多用于系统配置文件。</p><h2 id="信息提取方法"><a href="#信息提取方法" class="headerlink" title="信息提取方法"></a>信息提取方法</h2><p>方法一：完整解析信息的标记形式，再提取关键信息<br>XML JSON YAML<br>需要标记解析器，例如：bs4库的标签树遍历<br>优点：信息解析准确<br>缺点：提取过程繁琐，速度慢</p><p>方法二：无视标记形式，直接搜索关键信息<br>搜索<br>对信息的文本查找函数即可<br>优点：提取过程简洁，速度较快<br>缺点：提取结果准确性与信息内容相关</p><p>融合方法</p><p>实例</p><p>提取HTML中所有的URL链接</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> requests<span class="token operator">>></span><span class="token operator">></span> r<span class="token operator">=</span>requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://python123.io/ws/demo.html"</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> demo<span class="token operator">=</span>r<span class="token punctuation">.</span>text<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup<span class="token operator">>></span><span class="token operator">></span> soup<span class="token operator">=</span>BeautifulSoup<span class="token punctuation">(</span>demo<span class="token punctuation">,</span><span class="token string">"html.parser"</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">for</span> link <span class="token keyword">in</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>SyntaxError<span class="token punctuation">:</span> invalid syntax<span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">for</span> link <span class="token keyword">in</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>link<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>http<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>icourse163<span class="token punctuation">.</span>org<span class="token operator">/</span>course<span class="token operator">/</span>BIT<span class="token number">-268001</span>http<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>icourse163<span class="token punctuation">.</span>org<span class="token operator">/</span>course<span class="token operator">/</span>BIT<span class="token number">-1001870001</span><span class="token operator">>></span><span class="token operator">></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="find-all-函数"><a href="#find-all-函数" class="headerlink" title="find_all()函数"></a>find_all()函数</h3><p>&lt;&gt;.find_all(name, attrs, recursive, string, **kwargs)<br>返回一个列表类型，存储查找的结果</p><h4 id="第一个参数——-name"><a href="#第一个参数——-name" class="headerlink" title="第一个参数—— name"></a>第一个参数—— name</h4><p> 对标签名称的检索字符串</p><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#查询a标签</span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py2"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-1001870001"</span> id<span class="token operator">=</span><span class="token string">"link2"</span><span class="token operator">></span>Advanced Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token comment" spellcheck="true">#同时查询a标签与b标签</span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">&lt;</span>b<span class="token operator">></span>The demo python introduces several python courses<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py2"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-1001870001"</span> id<span class="token operator">=</span><span class="token string">"link2"</span><span class="token operator">></span>Advanced Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>find_all(True)</p><p>会将显示所有标签</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">for</span> Tag <span class="token keyword">in</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>Tag<span class="token punctuation">.</span>name<span class="token punctuation">)</span>htmlheadtitlebodypbpaa<span class="token operator">>></span><span class="token operator">></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>检索所有包含b字母的标签</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> re    <span class="token comment" spellcheck="true">#正则表达式库，暂不详解</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">for</span> tag <span class="token keyword">in</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>re<span class="token punctuation">.</span>compile<span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>tag<span class="token punctuation">.</span>name<span class="token punctuation">)</span>bodyb<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="第二个参数——attr"><a href="#第二个参数——attr" class="headerlink" title="第二个参数——attr"></a>第二个参数——attr</h4><p>标签中属性是否含有某字符</p><p>∙attrs: 对标签属性值的检索字符串，可标注属性检索</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">,</span><span class="token string">'course'</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true">#p标签中包含“coursre”</span><span class="token punctuation">[</span><span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"course"</span><span class="token operator">></span>Python <span class="token keyword">is</span> a wonderful general<span class="token operator">-</span>purpose programming language<span class="token punctuation">.</span> You can learn Python <span class="token keyword">from</span> novice to professional by tracking the following courses<span class="token punctuation">:</span><span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span> <span class="token operator">and</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py2"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-1001870001"</span> id<span class="token operator">=</span><span class="token string">"link2"</span><span class="token operator">></span>Advanced Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>对属性做约束</p><pre class="line-numbers language-py"><code class="language-py">>>> soup.find_all(id='link1')   #id属性等于1的标签[<a class="py1" href="http://www.icourse163.org/course/BIT-268001" id="link1">Basic Python</a>]>>> soup.find_all(id="link")[]>>> soup.find_all(id=re.compile('link'))   #使用正则表达式来查找id中包含link的标签[<a class="py1" href="http://www.icourse163.org/course/BIT-268001" id="link1">Basic Python</a>, <a class="py2" href="http://www.icourse163.org/course/BIT-1001870001" id="link2">Advanced Python</a>]>>> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="第三个参数——recursive"><a href="#第三个参数——recursive" class="headerlink" title="第三个参数——recursive"></a>第三个参数——recursive</h4><p>是都对子孙全部检索，布尔型，默认True</p><p>也就是，若设为False，则只检索其下一个子孙节点</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py2"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-1001870001"</span> id<span class="token operator">=</span><span class="token string">"link2"</span><span class="token operator">></span>Advanced Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span>recursive<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="第四个参数——string"><a href="#第四个参数——string" class="headerlink" title="第四个参数——string"></a>第四个参数——string</h4><p> string: &lt;&gt;…&lt;/&gt;中字符串区域的检索字符串</p><pre class="line-numbers language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> soup<span class="token operator">&lt;</span>html<span class="token operator">></span><span class="token operator">&lt;</span>head<span class="token operator">></span><span class="token operator">&lt;</span>title<span class="token operator">></span>This <span class="token keyword">is</span> a python demo page<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">></span><span class="token operator">&lt;</span>body<span class="token operator">></span><span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">></span><span class="token operator">&lt;</span>b<span class="token operator">></span>The demo python introduces several python courses<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"course"</span><span class="token operator">></span>Python <span class="token keyword">is</span> a wonderful general<span class="token operator">-</span>purpose programming language<span class="token punctuation">.</span> You can learn Python <span class="token keyword">from</span> novice to professional by tracking the following courses<span class="token punctuation">:</span><span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py1"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-268001"</span> id<span class="token operator">=</span><span class="token string">"link1"</span><span class="token operator">></span>Basic Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span> <span class="token operator">and</span> <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"py2"</span> href<span class="token operator">=</span><span class="token string">"http://www.icourse163.org/course/BIT-1001870001"</span> id<span class="token operator">=</span><span class="token string">"link2"</span><span class="token operator">></span>Advanced Python<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">></span><span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>string<span class="token operator">=</span><span class="token string">'Basic Python'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'Basic Python'</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span class="token comment" spellcheck="true">#使用正则表达式检索所有包含‘Python’字符的String域</span><span class="token operator">>></span><span class="token operator">></span> <span class="token keyword">import</span> re<span class="token operator">>></span><span class="token operator">></span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>string<span class="token operator">=</span>re<span class="token punctuation">.</span>compile<span class="token punctuation">(</span><span class="token string">'Python'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'Python is a wonderful general-purpose programming language. You can learn Python from novice to professional by tracking the following courses:\r\n'</span><span class="token punctuation">,</span> <span class="token string">'Basic Python'</span><span class="token punctuation">,</span> <span class="token string">'Advanced Python'</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="简写"><a href="#简写" class="headerlink" title="简写"></a>简写</h4><blockquote><p><tag>(..) 等价于 .find_all(..)<br>soup(..) 等价于 soup.find_all(..)</tag></p></blockquote><h4 id="七个扩展方法"><a href="#七个扩展方法" class="headerlink" title="七个扩展方法"></a>七个扩展方法</h4><p>&lt;&gt;.find() 搜索且只返回一个结果，同.find_all()参数<br>&lt;&gt;.find_parents() 在先辈节点中搜索，返回列表类型，同.find_all()参数<br>&lt;&gt;.find_parent() 在先辈节点中返回一个结果，同.find()参数<br>&lt;&gt;.find_next_siblings() 在后续平行节点中搜索，返回列表类型，同.find_all()参数<br>&lt;&gt;.find_next_sibling() 在后续平行节点中返回一个结果，同.find()参数<br>&lt;&gt;.find_previous_siblings() 在前序平行节点中搜索，返回列表类型，同.find_all()参数<br>&lt;&gt;.find_previous_sibling() 在前序平行节点中返回一个结果，同.find()参数</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> BeautifulSoup </tag>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2020/01/15/hello-world/"/>
      <url>/2020/01/15/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to 李世昱的博客</p><p><span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f642.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f642.png?v8">🙂</span></p><p><span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f606.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f606.png?v8">😆</span></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Hello World </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Test </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
